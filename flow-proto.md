# .gitignore

```
# Generated protocol buffer files
*.pb.go

# Go binary, testing, and specific IDE folders/files
/bin/
/test_proto
*.test
*.out
.idea/
.vscode/

# OS-specific files
.DS_Store
Thumbs.db 
```

# cmd/test/main.go

```go
package main

import (
	"fmt"

	"github.com/withObsrvr/flow-proto/proto/consumer"
	"github.com/withObsrvr/flow-proto/proto/processor"
	"github.com/withObsrvr/flow-proto/proto/source"
	"google.golang.org/protobuf/types/known/structpb"
)

func main() {
	// Create metadata struct for processor
	procMetadata, _ := structpb.NewStruct(map[string]interface{}{
		"test": "value",
	})

	// Create some example proto messages
	procMsg := &processor.DataMessage{
		Payload:  []byte("hello"),
		Metadata: procMetadata,
	}

	sourceMsg := &source.CapabilitiesRequest{}

	// Create config struct for consumer
	consumerConfig, _ := structpb.NewStruct(map[string]interface{}{
		"key": "value",
	})

	consumerMsg := &consumer.ConfigureRequest{
		Config: consumerConfig,
	}

	fmt.Printf("Created processor message: %v\n", procMsg)
	fmt.Printf("Created source message: %v\n", sourceMsg)
	fmt.Printf("Created consumer message: %v\n", consumerMsg)
}

```

# go.mod

```mod
module github.com/withObsrvr/flow-proto

go 1.23.4

require (
	github.com/golang/protobuf v1.5.4
	google.golang.org/grpc v1.71.0
	google.golang.org/protobuf v1.36.6
)

require (
	golang.org/x/net v0.34.0 // indirect
	golang.org/x/sys v0.29.0 // indirect
	golang.org/x/text v0.21.0 // indirect
	google.golang.org/genproto/googleapis/rpc v0.0.0-20250115164207-1a7da9e5054f // indirect
)

```

# proto/.gitignore

```

flow*.md
```

# proto/consumer/consumer_grpc.pb.go

```go
// Code generated by protoc-gen-go-grpc. DO NOT EDIT.
// versions:
// - protoc-gen-go-grpc v1.5.1
// - protoc             v3.12.4
// source: proto/consumer/consumer.proto

package consumer

import (
	context "context"
	grpc "google.golang.org/grpc"
	codes "google.golang.org/grpc/codes"
	status "google.golang.org/grpc/status"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the grpc package it is being compiled against.
// Requires gRPC-Go v1.64.0 or later.
const _ = grpc.SupportPackageIsVersion9

const (
	ConsumerService_GetCapabilities_FullMethodName = "/consumer.ConsumerService/GetCapabilities"
	ConsumerService_Configure_FullMethodName       = "/consumer.ConsumerService/Configure"
	ConsumerService_Consume_FullMethodName         = "/consumer.ConsumerService/Consume"
	ConsumerService_BatchConsume_FullMethodName    = "/consumer.ConsumerService/BatchConsume"
	ConsumerService_StreamConsume_FullMethodName   = "/consumer.ConsumerService/StreamConsume"
	ConsumerService_CheckHealth_FullMethodName     = "/consumer.ConsumerService/CheckHealth"
	ConsumerService_GetMetrics_FullMethodName      = "/consumer.ConsumerService/GetMetrics"
	ConsumerService_Control_FullMethodName         = "/consumer.ConsumerService/Control"
)

// ConsumerServiceClient is the client API for ConsumerService service.
//
// For semantics around ctx use and closing/ending streaming RPCs, please refer to https://pkg.go.dev/google.golang.org/grpc/?tab=doc#ClientConn.NewStream.
//
// ConsumerService defines the enhanced RPC interface for a consumer.
type ConsumerServiceClient interface {
	// Basic operations
	GetCapabilities(ctx context.Context, in *CapabilitiesRequest, opts ...grpc.CallOption) (*CapabilitiesResponse, error)
	Configure(ctx context.Context, in *ConfigureRequest, opts ...grpc.CallOption) (*ConfigureResponse, error)
	// Single message consumption
	Consume(ctx context.Context, in *ConsumeRequest, opts ...grpc.CallOption) (*ConsumeResponse, error)
	// Batch message consumption
	BatchConsume(ctx context.Context, in *BatchConsumeRequest, opts ...grpc.CallOption) (*BatchConsumeResponse, error)
	// Streaming message consumption
	StreamConsume(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[ConsumeRequest, ConsumeResponse], error)
	// Health and metrics
	CheckHealth(ctx context.Context, in *HealthCheckRequest, opts ...grpc.CallOption) (*HealthCheckResponse, error)
	GetMetrics(ctx context.Context, in *MetricsRequest, opts ...grpc.CallOption) (*MetricsResponse, error)
	// Lifecycle management
	Control(ctx context.Context, in *LifecycleRequest, opts ...grpc.CallOption) (*LifecycleResponse, error)
}

type consumerServiceClient struct {
	cc grpc.ClientConnInterface
}

func NewConsumerServiceClient(cc grpc.ClientConnInterface) ConsumerServiceClient {
	return &consumerServiceClient{cc}
}

func (c *consumerServiceClient) GetCapabilities(ctx context.Context, in *CapabilitiesRequest, opts ...grpc.CallOption) (*CapabilitiesResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(CapabilitiesResponse)
	err := c.cc.Invoke(ctx, ConsumerService_GetCapabilities_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *consumerServiceClient) Configure(ctx context.Context, in *ConfigureRequest, opts ...grpc.CallOption) (*ConfigureResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(ConfigureResponse)
	err := c.cc.Invoke(ctx, ConsumerService_Configure_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *consumerServiceClient) Consume(ctx context.Context, in *ConsumeRequest, opts ...grpc.CallOption) (*ConsumeResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(ConsumeResponse)
	err := c.cc.Invoke(ctx, ConsumerService_Consume_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *consumerServiceClient) BatchConsume(ctx context.Context, in *BatchConsumeRequest, opts ...grpc.CallOption) (*BatchConsumeResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(BatchConsumeResponse)
	err := c.cc.Invoke(ctx, ConsumerService_BatchConsume_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *consumerServiceClient) StreamConsume(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[ConsumeRequest, ConsumeResponse], error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	stream, err := c.cc.NewStream(ctx, &ConsumerService_ServiceDesc.Streams[0], ConsumerService_StreamConsume_FullMethodName, cOpts...)
	if err != nil {
		return nil, err
	}
	x := &grpc.GenericClientStream[ConsumeRequest, ConsumeResponse]{ClientStream: stream}
	return x, nil
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type ConsumerService_StreamConsumeClient = grpc.BidiStreamingClient[ConsumeRequest, ConsumeResponse]

func (c *consumerServiceClient) CheckHealth(ctx context.Context, in *HealthCheckRequest, opts ...grpc.CallOption) (*HealthCheckResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(HealthCheckResponse)
	err := c.cc.Invoke(ctx, ConsumerService_CheckHealth_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *consumerServiceClient) GetMetrics(ctx context.Context, in *MetricsRequest, opts ...grpc.CallOption) (*MetricsResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(MetricsResponse)
	err := c.cc.Invoke(ctx, ConsumerService_GetMetrics_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *consumerServiceClient) Control(ctx context.Context, in *LifecycleRequest, opts ...grpc.CallOption) (*LifecycleResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(LifecycleResponse)
	err := c.cc.Invoke(ctx, ConsumerService_Control_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

// ConsumerServiceServer is the server API for ConsumerService service.
// All implementations must embed UnimplementedConsumerServiceServer
// for forward compatibility.
//
// ConsumerService defines the enhanced RPC interface for a consumer.
type ConsumerServiceServer interface {
	// Basic operations
	GetCapabilities(context.Context, *CapabilitiesRequest) (*CapabilitiesResponse, error)
	Configure(context.Context, *ConfigureRequest) (*ConfigureResponse, error)
	// Single message consumption
	Consume(context.Context, *ConsumeRequest) (*ConsumeResponse, error)
	// Batch message consumption
	BatchConsume(context.Context, *BatchConsumeRequest) (*BatchConsumeResponse, error)
	// Streaming message consumption
	StreamConsume(grpc.BidiStreamingServer[ConsumeRequest, ConsumeResponse]) error
	// Health and metrics
	CheckHealth(context.Context, *HealthCheckRequest) (*HealthCheckResponse, error)
	GetMetrics(context.Context, *MetricsRequest) (*MetricsResponse, error)
	// Lifecycle management
	Control(context.Context, *LifecycleRequest) (*LifecycleResponse, error)
	mustEmbedUnimplementedConsumerServiceServer()
}

// UnimplementedConsumerServiceServer must be embedded to have
// forward compatible implementations.
//
// NOTE: this should be embedded by value instead of pointer to avoid a nil
// pointer dereference when methods are called.
type UnimplementedConsumerServiceServer struct{}

func (UnimplementedConsumerServiceServer) GetCapabilities(context.Context, *CapabilitiesRequest) (*CapabilitiesResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetCapabilities not implemented")
}
func (UnimplementedConsumerServiceServer) Configure(context.Context, *ConfigureRequest) (*ConfigureResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method Configure not implemented")
}
func (UnimplementedConsumerServiceServer) Consume(context.Context, *ConsumeRequest) (*ConsumeResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method Consume not implemented")
}
func (UnimplementedConsumerServiceServer) BatchConsume(context.Context, *BatchConsumeRequest) (*BatchConsumeResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method BatchConsume not implemented")
}
func (UnimplementedConsumerServiceServer) StreamConsume(grpc.BidiStreamingServer[ConsumeRequest, ConsumeResponse]) error {
	return status.Errorf(codes.Unimplemented, "method StreamConsume not implemented")
}
func (UnimplementedConsumerServiceServer) CheckHealth(context.Context, *HealthCheckRequest) (*HealthCheckResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method CheckHealth not implemented")
}
func (UnimplementedConsumerServiceServer) GetMetrics(context.Context, *MetricsRequest) (*MetricsResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetMetrics not implemented")
}
func (UnimplementedConsumerServiceServer) Control(context.Context, *LifecycleRequest) (*LifecycleResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method Control not implemented")
}
func (UnimplementedConsumerServiceServer) mustEmbedUnimplementedConsumerServiceServer() {}
func (UnimplementedConsumerServiceServer) testEmbeddedByValue()                         {}

// UnsafeConsumerServiceServer may be embedded to opt out of forward compatibility for this service.
// Use of this interface is not recommended, as added methods to ConsumerServiceServer will
// result in compilation errors.
type UnsafeConsumerServiceServer interface {
	mustEmbedUnimplementedConsumerServiceServer()
}

func RegisterConsumerServiceServer(s grpc.ServiceRegistrar, srv ConsumerServiceServer) {
	// If the following call pancis, it indicates UnimplementedConsumerServiceServer was
	// embedded by pointer and is nil.  This will cause panics if an
	// unimplemented method is ever invoked, so we test this at initialization
	// time to prevent it from happening at runtime later due to I/O.
	if t, ok := srv.(interface{ testEmbeddedByValue() }); ok {
		t.testEmbeddedByValue()
	}
	s.RegisterService(&ConsumerService_ServiceDesc, srv)
}

func _ConsumerService_GetCapabilities_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(CapabilitiesRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).GetCapabilities(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_GetCapabilities_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).GetCapabilities(ctx, req.(*CapabilitiesRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ConsumerService_Configure_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(ConfigureRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).Configure(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_Configure_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).Configure(ctx, req.(*ConfigureRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ConsumerService_Consume_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(ConsumeRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).Consume(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_Consume_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).Consume(ctx, req.(*ConsumeRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ConsumerService_BatchConsume_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(BatchConsumeRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).BatchConsume(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_BatchConsume_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).BatchConsume(ctx, req.(*BatchConsumeRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ConsumerService_StreamConsume_Handler(srv interface{}, stream grpc.ServerStream) error {
	return srv.(ConsumerServiceServer).StreamConsume(&grpc.GenericServerStream[ConsumeRequest, ConsumeResponse]{ServerStream: stream})
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type ConsumerService_StreamConsumeServer = grpc.BidiStreamingServer[ConsumeRequest, ConsumeResponse]

func _ConsumerService_CheckHealth_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(HealthCheckRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).CheckHealth(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_CheckHealth_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).CheckHealth(ctx, req.(*HealthCheckRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ConsumerService_GetMetrics_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(MetricsRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).GetMetrics(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_GetMetrics_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).GetMetrics(ctx, req.(*MetricsRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ConsumerService_Control_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(LifecycleRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ConsumerServiceServer).Control(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ConsumerService_Control_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ConsumerServiceServer).Control(ctx, req.(*LifecycleRequest))
	}
	return interceptor(ctx, in, info, handler)
}

// ConsumerService_ServiceDesc is the grpc.ServiceDesc for ConsumerService service.
// It's only intended for direct use with grpc.RegisterService,
// and not to be introspected or modified (even as a copy)
var ConsumerService_ServiceDesc = grpc.ServiceDesc{
	ServiceName: "consumer.ConsumerService",
	HandlerType: (*ConsumerServiceServer)(nil),
	Methods: []grpc.MethodDesc{
		{
			MethodName: "GetCapabilities",
			Handler:    _ConsumerService_GetCapabilities_Handler,
		},
		{
			MethodName: "Configure",
			Handler:    _ConsumerService_Configure_Handler,
		},
		{
			MethodName: "Consume",
			Handler:    _ConsumerService_Consume_Handler,
		},
		{
			MethodName: "BatchConsume",
			Handler:    _ConsumerService_BatchConsume_Handler,
		},
		{
			MethodName: "CheckHealth",
			Handler:    _ConsumerService_CheckHealth_Handler,
		},
		{
			MethodName: "GetMetrics",
			Handler:    _ConsumerService_GetMetrics_Handler,
		},
		{
			MethodName: "Control",
			Handler:    _ConsumerService_Control_Handler,
		},
	},
	Streams: []grpc.StreamDesc{
		{
			StreamName:    "StreamConsume",
			Handler:       _ConsumerService_StreamConsume_Handler,
			ServerStreams: true,
			ClientStreams: true,
		},
	},
	Metadata: "proto/consumer/consumer.proto",
}

```

# proto/consumer/consumer.pb.go

```go
// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.6
// 	protoc        v3.12.4
// source: proto/consumer/consumer.proto

package consumer

import (
	_struct "github.com/golang/protobuf/ptypes/struct"
	timestamp "github.com/golang/protobuf/ptypes/timestamp"
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// Error severity
type ErrorInfo_Severity int32

const (
	ErrorInfo_UNKNOWN ErrorInfo_Severity = 0
	ErrorInfo_FATAL   ErrorInfo_Severity = 1
	ErrorInfo_ERROR   ErrorInfo_Severity = 2
	ErrorInfo_WARNING ErrorInfo_Severity = 3
	ErrorInfo_INFO    ErrorInfo_Severity = 4
)

// Enum value maps for ErrorInfo_Severity.
var (
	ErrorInfo_Severity_name = map[int32]string{
		0: "UNKNOWN",
		1: "FATAL",
		2: "ERROR",
		3: "WARNING",
		4: "INFO",
	}
	ErrorInfo_Severity_value = map[string]int32{
		"UNKNOWN": 0,
		"FATAL":   1,
		"ERROR":   2,
		"WARNING": 3,
		"INFO":    4,
	}
)

func (x ErrorInfo_Severity) Enum() *ErrorInfo_Severity {
	p := new(ErrorInfo_Severity)
	*p = x
	return p
}

func (x ErrorInfo_Severity) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ErrorInfo_Severity) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_consumer_consumer_proto_enumTypes[0].Descriptor()
}

func (ErrorInfo_Severity) Type() protoreflect.EnumType {
	return &file_proto_consumer_consumer_proto_enumTypes[0]
}

func (x ErrorInfo_Severity) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ErrorInfo_Severity.Descriptor instead.
func (ErrorInfo_Severity) EnumDescriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{3, 0}
}

// Optional validation mode
type ConfigureRequest_ValidationMode int32

const (
	ConfigureRequest_VALIDATE_AND_APPLY ConfigureRequest_ValidationMode = 0
	ConfigureRequest_VALIDATE_ONLY      ConfigureRequest_ValidationMode = 1
)

// Enum value maps for ConfigureRequest_ValidationMode.
var (
	ConfigureRequest_ValidationMode_name = map[int32]string{
		0: "VALIDATE_AND_APPLY",
		1: "VALIDATE_ONLY",
	}
	ConfigureRequest_ValidationMode_value = map[string]int32{
		"VALIDATE_AND_APPLY": 0,
		"VALIDATE_ONLY":      1,
	}
)

func (x ConfigureRequest_ValidationMode) Enum() *ConfigureRequest_ValidationMode {
	p := new(ConfigureRequest_ValidationMode)
	*p = x
	return p
}

func (x ConfigureRequest_ValidationMode) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ConfigureRequest_ValidationMode) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_consumer_consumer_proto_enumTypes[1].Descriptor()
}

func (ConfigureRequest_ValidationMode) Type() protoreflect.EnumType {
	return &file_proto_consumer_consumer_proto_enumTypes[1]
}

func (x ConfigureRequest_ValidationMode) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ConfigureRequest_ValidationMode.Descriptor instead.
func (ConfigureRequest_ValidationMode) EnumDescriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{10, 0}
}

type ValidationIssue_Severity int32

const (
	ValidationIssue_ERROR   ValidationIssue_Severity = 0
	ValidationIssue_WARNING ValidationIssue_Severity = 1
	ValidationIssue_INFO    ValidationIssue_Severity = 2
)

// Enum value maps for ValidationIssue_Severity.
var (
	ValidationIssue_Severity_name = map[int32]string{
		0: "ERROR",
		1: "WARNING",
		2: "INFO",
	}
	ValidationIssue_Severity_value = map[string]int32{
		"ERROR":   0,
		"WARNING": 1,
		"INFO":    2,
	}
)

func (x ValidationIssue_Severity) Enum() *ValidationIssue_Severity {
	p := new(ValidationIssue_Severity)
	*p = x
	return p
}

func (x ValidationIssue_Severity) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ValidationIssue_Severity) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_consumer_consumer_proto_enumTypes[2].Descriptor()
}

func (ValidationIssue_Severity) Type() protoreflect.EnumType {
	return &file_proto_consumer_consumer_proto_enumTypes[2]
}

func (x ValidationIssue_Severity) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ValidationIssue_Severity.Descriptor instead.
func (ValidationIssue_Severity) EnumDescriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{12, 0}
}

type HealthCheckResponse_ServingStatus int32

const (
	HealthCheckResponse_UNKNOWN         HealthCheckResponse_ServingStatus = 0
	HealthCheckResponse_SERVING         HealthCheckResponse_ServingStatus = 1
	HealthCheckResponse_NOT_SERVING     HealthCheckResponse_ServingStatus = 2
	HealthCheckResponse_SERVICE_UNKNOWN HealthCheckResponse_ServingStatus = 3
	HealthCheckResponse_STARTING        HealthCheckResponse_ServingStatus = 4
	HealthCheckResponse_STOPPING        HealthCheckResponse_ServingStatus = 5
)

// Enum value maps for HealthCheckResponse_ServingStatus.
var (
	HealthCheckResponse_ServingStatus_name = map[int32]string{
		0: "UNKNOWN",
		1: "SERVING",
		2: "NOT_SERVING",
		3: "SERVICE_UNKNOWN",
		4: "STARTING",
		5: "STOPPING",
	}
	HealthCheckResponse_ServingStatus_value = map[string]int32{
		"UNKNOWN":         0,
		"SERVING":         1,
		"NOT_SERVING":     2,
		"SERVICE_UNKNOWN": 3,
		"STARTING":        4,
		"STOPPING":        5,
	}
)

func (x HealthCheckResponse_ServingStatus) Enum() *HealthCheckResponse_ServingStatus {
	p := new(HealthCheckResponse_ServingStatus)
	*p = x
	return p
}

func (x HealthCheckResponse_ServingStatus) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (HealthCheckResponse_ServingStatus) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_consumer_consumer_proto_enumTypes[3].Descriptor()
}

func (HealthCheckResponse_ServingStatus) Type() protoreflect.EnumType {
	return &file_proto_consumer_consumer_proto_enumTypes[3]
}

func (x HealthCheckResponse_ServingStatus) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use HealthCheckResponse_ServingStatus.Descriptor instead.
func (HealthCheckResponse_ServingStatus) EnumDescriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{14, 0}
}

type LifecycleRequest_Operation int32

const (
	LifecycleRequest_INITIALIZE LifecycleRequest_Operation = 0
	LifecycleRequest_SHUTDOWN   LifecycleRequest_Operation = 1
	LifecycleRequest_PAUSE      LifecycleRequest_Operation = 2
	LifecycleRequest_RESUME     LifecycleRequest_Operation = 3
	LifecycleRequest_RESET      LifecycleRequest_Operation = 4
)

// Enum value maps for LifecycleRequest_Operation.
var (
	LifecycleRequest_Operation_name = map[int32]string{
		0: "INITIALIZE",
		1: "SHUTDOWN",
		2: "PAUSE",
		3: "RESUME",
		4: "RESET",
	}
	LifecycleRequest_Operation_value = map[string]int32{
		"INITIALIZE": 0,
		"SHUTDOWN":   1,
		"PAUSE":      2,
		"RESUME":     3,
		"RESET":      4,
	}
)

func (x LifecycleRequest_Operation) Enum() *LifecycleRequest_Operation {
	p := new(LifecycleRequest_Operation)
	*p = x
	return p
}

func (x LifecycleRequest_Operation) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (LifecycleRequest_Operation) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_consumer_consumer_proto_enumTypes[4].Descriptor()
}

func (LifecycleRequest_Operation) Type() protoreflect.EnumType {
	return &file_proto_consumer_consumer_proto_enumTypes[4]
}

func (x LifecycleRequest_Operation) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use LifecycleRequest_Operation.Descriptor instead.
func (LifecycleRequest_Operation) EnumDescriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{18, 0}
}

// DataMessage represents the basic message that the consumer will receive.
type DataMessage struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// The raw data payload.
	Payload []byte `protobuf:"bytes,1,opt,name=payload,proto3" json:"payload,omitempty"`
	// Enhanced metadata with support for complex values.
	Metadata *_struct.Struct `protobuf:"bytes,2,opt,name=metadata,proto3" json:"metadata,omitempty"`
	// Timestamp when the message was created.
	Timestamp *timestamp.Timestamp `protobuf:"bytes,3,opt,name=timestamp,proto3" json:"timestamp,omitempty"`
	// Content type of the payload (e.g., "application/json", "stellar/xdr")
	ContentType string `protobuf:"bytes,4,opt,name=content_type,json=contentType,proto3" json:"content_type,omitempty"`
	// Unique message identifier
	MessageId string `protobuf:"bytes,5,opt,name=message_id,json=messageId,proto3" json:"message_id,omitempty"`
	// Source information about the message origin
	SourceInfo    *_struct.Struct `protobuf:"bytes,6,opt,name=source_info,json=sourceInfo,proto3" json:"source_info,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *DataMessage) Reset() {
	*x = DataMessage{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *DataMessage) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*DataMessage) ProtoMessage() {}

func (x *DataMessage) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use DataMessage.ProtoReflect.Descriptor instead.
func (*DataMessage) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{0}
}

func (x *DataMessage) GetPayload() []byte {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *DataMessage) GetMetadata() *_struct.Struct {
	if x != nil {
		return x.Metadata
	}
	return nil
}

func (x *DataMessage) GetTimestamp() *timestamp.Timestamp {
	if x != nil {
		return x.Timestamp
	}
	return nil
}

func (x *DataMessage) GetContentType() string {
	if x != nil {
		return x.ContentType
	}
	return ""
}

func (x *DataMessage) GetMessageId() string {
	if x != nil {
		return x.MessageId
	}
	return ""
}

func (x *DataMessage) GetSourceInfo() *_struct.Struct {
	if x != nil {
		return x.SourceInfo
	}
	return nil
}

// ConsumeRequest wraps a DataMessage to be consumed.
type ConsumeRequest struct {
	state   protoimpl.MessageState `protogen:"open.v1"`
	Message *DataMessage           `protobuf:"bytes,1,opt,name=message,proto3" json:"message,omitempty"`
	// Optional request ID for correlation
	RequestId     string `protobuf:"bytes,2,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ConsumeRequest) Reset() {
	*x = ConsumeRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConsumeRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConsumeRequest) ProtoMessage() {}

func (x *ConsumeRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConsumeRequest.ProtoReflect.Descriptor instead.
func (*ConsumeRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{1}
}

func (x *ConsumeRequest) GetMessage() *DataMessage {
	if x != nil {
		return x.Message
	}
	return nil
}

func (x *ConsumeRequest) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

// ConsumeResponse acknowledges the consumption of a message.
type ConsumeResponse struct {
	state        protoimpl.MessageState `protogen:"open.v1"`
	Success      bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	// Detailed error information
	ErrorInfo *ErrorInfo `protobuf:"bytes,3,opt,name=error_info,json=errorInfo,proto3" json:"error_info,omitempty"`
	// Response correlation ID matching the request
	RequestId     string `protobuf:"bytes,4,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ConsumeResponse) Reset() {
	*x = ConsumeResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConsumeResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConsumeResponse) ProtoMessage() {}

func (x *ConsumeResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConsumeResponse.ProtoReflect.Descriptor instead.
func (*ConsumeResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{2}
}

func (x *ConsumeResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *ConsumeResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *ConsumeResponse) GetErrorInfo() *ErrorInfo {
	if x != nil {
		return x.ErrorInfo
	}
	return nil
}

func (x *ConsumeResponse) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

// Error information for detailed reporting
type ErrorInfo struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Error type (e.g., "db", "network", "parsing")
	Type     string             `protobuf:"bytes,1,opt,name=type,proto3" json:"type,omitempty"`
	Severity ErrorInfo_Severity `protobuf:"varint,2,opt,name=severity,proto3,enum=consumer.ErrorInfo_Severity" json:"severity,omitempty"`
	// Error message
	Message string `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	// Additional context
	Context       *_struct.Struct `protobuf:"bytes,4,opt,name=context,proto3" json:"context,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ErrorInfo) Reset() {
	*x = ErrorInfo{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ErrorInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ErrorInfo) ProtoMessage() {}

func (x *ErrorInfo) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ErrorInfo.ProtoReflect.Descriptor instead.
func (*ErrorInfo) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{3}
}

func (x *ErrorInfo) GetType() string {
	if x != nil {
		return x.Type
	}
	return ""
}

func (x *ErrorInfo) GetSeverity() ErrorInfo_Severity {
	if x != nil {
		return x.Severity
	}
	return ErrorInfo_UNKNOWN
}

func (x *ErrorInfo) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

func (x *ErrorInfo) GetContext() *_struct.Struct {
	if x != nil {
		return x.Context
	}
	return nil
}

// Batch consume request for multiple messages
type BatchConsumeRequest struct {
	state    protoimpl.MessageState `protogen:"open.v1"`
	Messages []*DataMessage         `protobuf:"bytes,1,rep,name=messages,proto3" json:"messages,omitempty"`
	// Batch ID for correlation
	BatchId       string `protobuf:"bytes,2,opt,name=batch_id,json=batchId,proto3" json:"batch_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *BatchConsumeRequest) Reset() {
	*x = BatchConsumeRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[4]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *BatchConsumeRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*BatchConsumeRequest) ProtoMessage() {}

func (x *BatchConsumeRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[4]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use BatchConsumeRequest.ProtoReflect.Descriptor instead.
func (*BatchConsumeRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{4}
}

func (x *BatchConsumeRequest) GetMessages() []*DataMessage {
	if x != nil {
		return x.Messages
	}
	return nil
}

func (x *BatchConsumeRequest) GetBatchId() string {
	if x != nil {
		return x.BatchId
	}
	return ""
}

// Batch consume response
type BatchConsumeResponse struct {
	state          protoimpl.MessageState `protogen:"open.v1"`
	OverallSuccess bool                   `protobuf:"varint,1,opt,name=overall_success,json=overallSuccess,proto3" json:"overall_success,omitempty"`
	// Individual results for each message
	Results []*MessageResult `protobuf:"bytes,2,rep,name=results,proto3" json:"results,omitempty"`
	// Batch ID for correlation
	BatchId       string `protobuf:"bytes,3,opt,name=batch_id,json=batchId,proto3" json:"batch_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *BatchConsumeResponse) Reset() {
	*x = BatchConsumeResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[5]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *BatchConsumeResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*BatchConsumeResponse) ProtoMessage() {}

func (x *BatchConsumeResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[5]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use BatchConsumeResponse.ProtoReflect.Descriptor instead.
func (*BatchConsumeResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{5}
}

func (x *BatchConsumeResponse) GetOverallSuccess() bool {
	if x != nil {
		return x.OverallSuccess
	}
	return false
}

func (x *BatchConsumeResponse) GetResults() []*MessageResult {
	if x != nil {
		return x.Results
	}
	return nil
}

func (x *BatchConsumeResponse) GetBatchId() string {
	if x != nil {
		return x.BatchId
	}
	return ""
}

// Result for an individual message in a batch
type MessageResult struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Success       bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage  string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	ErrorInfo     *ErrorInfo             `protobuf:"bytes,3,opt,name=error_info,json=errorInfo,proto3" json:"error_info,omitempty"`
	MessageIndex  int32                  `protobuf:"varint,4,opt,name=message_index,json=messageIndex,proto3" json:"message_index,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *MessageResult) Reset() {
	*x = MessageResult{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[6]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *MessageResult) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*MessageResult) ProtoMessage() {}

func (x *MessageResult) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[6]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use MessageResult.ProtoReflect.Descriptor instead.
func (*MessageResult) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{6}
}

func (x *MessageResult) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *MessageResult) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *MessageResult) GetErrorInfo() *ErrorInfo {
	if x != nil {
		return x.ErrorInfo
	}
	return nil
}

func (x *MessageResult) GetMessageIndex() int32 {
	if x != nil {
		return x.MessageIndex
	}
	return 0
}

// Enhanced capabilities request
type CapabilitiesRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional client information
	ClientInfo    map[string]string `protobuf:"bytes,1,rep,name=client_info,json=clientInfo,proto3" json:"client_info,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *CapabilitiesRequest) Reset() {
	*x = CapabilitiesRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[7]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *CapabilitiesRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*CapabilitiesRequest) ProtoMessage() {}

func (x *CapabilitiesRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[7]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use CapabilitiesRequest.ProtoReflect.Descriptor instead.
func (*CapabilitiesRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{7}
}

func (x *CapabilitiesRequest) GetClientInfo() map[string]string {
	if x != nil {
		return x.ClientInfo
	}
	return nil
}

// Enhanced capabilities response
type CapabilitiesResponse struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	ServiceName       string                 `protobuf:"bytes,1,opt,name=service_name,json=serviceName,proto3" json:"service_name,omitempty"`
	ServiceVersion    string                 `protobuf:"bytes,2,opt,name=service_version,json=serviceVersion,proto3" json:"service_version,omitempty"`
	SupportedFeatures []string               `protobuf:"bytes,3,rep,name=supported_features,json=supportedFeatures,proto3" json:"supported_features,omitempty"`
	// Rich capabilities information
	Capabilities *_struct.Struct `protobuf:"bytes,4,opt,name=capabilities,proto3" json:"capabilities,omitempty"`
	// Supported data formats
	SupportedFormats []string `protobuf:"bytes,5,rep,name=supported_formats,json=supportedFormats,proto3" json:"supported_formats,omitempty"`
	// Schema information provided by the consumer
	Schemas       []*SchemaInfo `protobuf:"bytes,6,rep,name=schemas,proto3" json:"schemas,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *CapabilitiesResponse) Reset() {
	*x = CapabilitiesResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[8]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *CapabilitiesResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*CapabilitiesResponse) ProtoMessage() {}

func (x *CapabilitiesResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[8]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use CapabilitiesResponse.ProtoReflect.Descriptor instead.
func (*CapabilitiesResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{8}
}

func (x *CapabilitiesResponse) GetServiceName() string {
	if x != nil {
		return x.ServiceName
	}
	return ""
}

func (x *CapabilitiesResponse) GetServiceVersion() string {
	if x != nil {
		return x.ServiceVersion
	}
	return ""
}

func (x *CapabilitiesResponse) GetSupportedFeatures() []string {
	if x != nil {
		return x.SupportedFeatures
	}
	return nil
}

func (x *CapabilitiesResponse) GetCapabilities() *_struct.Struct {
	if x != nil {
		return x.Capabilities
	}
	return nil
}

func (x *CapabilitiesResponse) GetSupportedFormats() []string {
	if x != nil {
		return x.SupportedFormats
	}
	return nil
}

func (x *CapabilitiesResponse) GetSchemas() []*SchemaInfo {
	if x != nil {
		return x.Schemas
	}
	return nil
}

// Schema information
type SchemaInfo struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Name          string                 `protobuf:"bytes,1,opt,name=name,proto3" json:"name,omitempty"`
	Description   string                 `protobuf:"bytes,2,opt,name=description,proto3" json:"description,omitempty"`
	Definition    string                 `protobuf:"bytes,3,opt,name=definition,proto3" json:"definition,omitempty"`
	Format        string                 `protobuf:"bytes,4,opt,name=format,proto3" json:"format,omitempty"` // e.g., "sql", "json-schema", "avro"
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *SchemaInfo) Reset() {
	*x = SchemaInfo{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[9]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *SchemaInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*SchemaInfo) ProtoMessage() {}

func (x *SchemaInfo) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[9]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use SchemaInfo.ProtoReflect.Descriptor instead.
func (*SchemaInfo) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{9}
}

func (x *SchemaInfo) GetName() string {
	if x != nil {
		return x.Name
	}
	return ""
}

func (x *SchemaInfo) GetDescription() string {
	if x != nil {
		return x.Description
	}
	return ""
}

func (x *SchemaInfo) GetDefinition() string {
	if x != nil {
		return x.Definition
	}
	return ""
}

func (x *SchemaInfo) GetFormat() string {
	if x != nil {
		return x.Format
	}
	return ""
}

// Enhanced configuration request
type ConfigureRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Configuration as structured data
	Config         *_struct.Struct                 `protobuf:"bytes,1,opt,name=config,proto3" json:"config,omitempty"`
	ValidationMode ConfigureRequest_ValidationMode `protobuf:"varint,2,opt,name=validation_mode,json=validationMode,proto3,enum=consumer.ConfigureRequest_ValidationMode" json:"validation_mode,omitempty"`
	unknownFields  protoimpl.UnknownFields
	sizeCache      protoimpl.SizeCache
}

func (x *ConfigureRequest) Reset() {
	*x = ConfigureRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[10]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConfigureRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConfigureRequest) ProtoMessage() {}

func (x *ConfigureRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[10]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConfigureRequest.ProtoReflect.Descriptor instead.
func (*ConfigureRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{10}
}

func (x *ConfigureRequest) GetConfig() *_struct.Struct {
	if x != nil {
		return x.Config
	}
	return nil
}

func (x *ConfigureRequest) GetValidationMode() ConfigureRequest_ValidationMode {
	if x != nil {
		return x.ValidationMode
	}
	return ConfigureRequest_VALIDATE_AND_APPLY
}

// Enhanced configuration response
type ConfigureResponse struct {
	state        protoimpl.MessageState `protogen:"open.v1"`
	Success      bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	// Validation issues
	ValidationIssues []*ValidationIssue `protobuf:"bytes,3,rep,name=validation_issues,json=validationIssues,proto3" json:"validation_issues,omitempty"`
	// Current configuration after changes
	CurrentConfig *_struct.Struct `protobuf:"bytes,4,opt,name=current_config,json=currentConfig,proto3" json:"current_config,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ConfigureResponse) Reset() {
	*x = ConfigureResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[11]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConfigureResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConfigureResponse) ProtoMessage() {}

func (x *ConfigureResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[11]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConfigureResponse.ProtoReflect.Descriptor instead.
func (*ConfigureResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{11}
}

func (x *ConfigureResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *ConfigureResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *ConfigureResponse) GetValidationIssues() []*ValidationIssue {
	if x != nil {
		return x.ValidationIssues
	}
	return nil
}

func (x *ConfigureResponse) GetCurrentConfig() *_struct.Struct {
	if x != nil {
		return x.CurrentConfig
	}
	return nil
}

// Validation issue details
type ValidationIssue struct {
	state         protoimpl.MessageState   `protogen:"open.v1"`
	Severity      ValidationIssue_Severity `protobuf:"varint,1,opt,name=severity,proto3,enum=consumer.ValidationIssue_Severity" json:"severity,omitempty"`
	Field         string                   `protobuf:"bytes,2,opt,name=field,proto3" json:"field,omitempty"`
	Message       string                   `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ValidationIssue) Reset() {
	*x = ValidationIssue{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[12]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ValidationIssue) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ValidationIssue) ProtoMessage() {}

func (x *ValidationIssue) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[12]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ValidationIssue.ProtoReflect.Descriptor instead.
func (*ValidationIssue) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{12}
}

func (x *ValidationIssue) GetSeverity() ValidationIssue_Severity {
	if x != nil {
		return x.Severity
	}
	return ValidationIssue_ERROR
}

func (x *ValidationIssue) GetField() string {
	if x != nil {
		return x.Field
	}
	return ""
}

func (x *ValidationIssue) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Health check request
type HealthCheckRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Detailed      bool                   `protobuf:"varint,1,opt,name=detailed,proto3" json:"detailed,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthCheckRequest) Reset() {
	*x = HealthCheckRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[13]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthCheckRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthCheckRequest) ProtoMessage() {}

func (x *HealthCheckRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[13]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthCheckRequest.ProtoReflect.Descriptor instead.
func (*HealthCheckRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{13}
}

func (x *HealthCheckRequest) GetDetailed() bool {
	if x != nil {
		return x.Detailed
	}
	return false
}

// Health check response
type HealthCheckResponse struct {
	state  protoimpl.MessageState            `protogen:"open.v1"`
	Status HealthCheckResponse_ServingStatus `protobuf:"varint,1,opt,name=status,proto3,enum=consumer.HealthCheckResponse_ServingStatus" json:"status,omitempty"`
	// Detailed component health
	Components []*ComponentHealth `protobuf:"bytes,2,rep,name=components,proto3" json:"components,omitempty"`
	// Service metrics
	Metrics       *_struct.Struct `protobuf:"bytes,3,opt,name=metrics,proto3" json:"metrics,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthCheckResponse) Reset() {
	*x = HealthCheckResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[14]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthCheckResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthCheckResponse) ProtoMessage() {}

func (x *HealthCheckResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[14]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthCheckResponse.ProtoReflect.Descriptor instead.
func (*HealthCheckResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{14}
}

func (x *HealthCheckResponse) GetStatus() HealthCheckResponse_ServingStatus {
	if x != nil {
		return x.Status
	}
	return HealthCheckResponse_UNKNOWN
}

func (x *HealthCheckResponse) GetComponents() []*ComponentHealth {
	if x != nil {
		return x.Components
	}
	return nil
}

func (x *HealthCheckResponse) GetMetrics() *_struct.Struct {
	if x != nil {
		return x.Metrics
	}
	return nil
}

// Component health information
type ComponentHealth struct {
	state         protoimpl.MessageState            `protogen:"open.v1"`
	ComponentName string                            `protobuf:"bytes,1,opt,name=component_name,json=componentName,proto3" json:"component_name,omitempty"`
	Status        HealthCheckResponse_ServingStatus `protobuf:"varint,2,opt,name=status,proto3,enum=consumer.HealthCheckResponse_ServingStatus" json:"status,omitempty"`
	Message       string                            `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ComponentHealth) Reset() {
	*x = ComponentHealth{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[15]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ComponentHealth) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ComponentHealth) ProtoMessage() {}

func (x *ComponentHealth) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[15]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ComponentHealth.ProtoReflect.Descriptor instead.
func (*ComponentHealth) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{15}
}

func (x *ComponentHealth) GetComponentName() string {
	if x != nil {
		return x.ComponentName
	}
	return ""
}

func (x *ComponentHealth) GetStatus() HealthCheckResponse_ServingStatus {
	if x != nil {
		return x.Status
	}
	return HealthCheckResponse_UNKNOWN
}

func (x *ComponentHealth) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Advanced metrics request with filtering
type MetricsRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional metric names to filter by
	MetricNames []string `protobuf:"bytes,1,rep,name=metric_names,json=metricNames,proto3" json:"metric_names,omitempty"`
	// Include detailed metrics breakdown
	Detailed      bool `protobuf:"varint,2,opt,name=detailed,proto3" json:"detailed,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *MetricsRequest) Reset() {
	*x = MetricsRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[16]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *MetricsRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*MetricsRequest) ProtoMessage() {}

func (x *MetricsRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[16]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use MetricsRequest.ProtoReflect.Descriptor instead.
func (*MetricsRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{16}
}

func (x *MetricsRequest) GetMetricNames() []string {
	if x != nil {
		return x.MetricNames
	}
	return nil
}

func (x *MetricsRequest) GetDetailed() bool {
	if x != nil {
		return x.Detailed
	}
	return false
}

// Enhanced metrics response
type MetricsResponse struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Metrics as structured data
	Metrics *_struct.Struct `protobuf:"bytes,1,opt,name=metrics,proto3" json:"metrics,omitempty"`
	// Last updated timestamp
	UpdatedAt     *timestamp.Timestamp `protobuf:"bytes,2,opt,name=updated_at,json=updatedAt,proto3" json:"updated_at,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *MetricsResponse) Reset() {
	*x = MetricsResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[17]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *MetricsResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*MetricsResponse) ProtoMessage() {}

func (x *MetricsResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[17]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use MetricsResponse.ProtoReflect.Descriptor instead.
func (*MetricsResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{17}
}

func (x *MetricsResponse) GetMetrics() *_struct.Struct {
	if x != nil {
		return x.Metrics
	}
	return nil
}

func (x *MetricsResponse) GetUpdatedAt() *timestamp.Timestamp {
	if x != nil {
		return x.UpdatedAt
	}
	return nil
}

// Lifecycle control request
type LifecycleRequest struct {
	state     protoimpl.MessageState     `protogen:"open.v1"`
	Operation LifecycleRequest_Operation `protobuf:"varint,1,opt,name=operation,proto3,enum=consumer.LifecycleRequest_Operation" json:"operation,omitempty"`
	// Operation parameters
	Parameters    *_struct.Struct `protobuf:"bytes,2,opt,name=parameters,proto3" json:"parameters,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *LifecycleRequest) Reset() {
	*x = LifecycleRequest{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[18]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *LifecycleRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*LifecycleRequest) ProtoMessage() {}

func (x *LifecycleRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[18]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use LifecycleRequest.ProtoReflect.Descriptor instead.
func (*LifecycleRequest) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{18}
}

func (x *LifecycleRequest) GetOperation() LifecycleRequest_Operation {
	if x != nil {
		return x.Operation
	}
	return LifecycleRequest_INITIALIZE
}

func (x *LifecycleRequest) GetParameters() *_struct.Struct {
	if x != nil {
		return x.Parameters
	}
	return nil
}

// Lifecycle control response
type LifecycleResponse struct {
	state   protoimpl.MessageState `protogen:"open.v1"`
	Success bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	Message string                 `protobuf:"bytes,2,opt,name=message,proto3" json:"message,omitempty"`
	// Current status after operation
	Status        string `protobuf:"bytes,3,opt,name=status,proto3" json:"status,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *LifecycleResponse) Reset() {
	*x = LifecycleResponse{}
	mi := &file_proto_consumer_consumer_proto_msgTypes[19]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *LifecycleResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*LifecycleResponse) ProtoMessage() {}

func (x *LifecycleResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_consumer_consumer_proto_msgTypes[19]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use LifecycleResponse.ProtoReflect.Descriptor instead.
func (*LifecycleResponse) Descriptor() ([]byte, []int) {
	return file_proto_consumer_consumer_proto_rawDescGZIP(), []int{19}
}

func (x *LifecycleResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *LifecycleResponse) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

func (x *LifecycleResponse) GetStatus() string {
	if x != nil {
		return x.Status
	}
	return ""
}

var File_proto_consumer_consumer_proto protoreflect.FileDescriptor

const file_proto_consumer_consumer_proto_rawDesc = "" +
	"\n" +
	"\x1dproto/consumer/consumer.proto\x12\bconsumer\x1a\x1fgoogle/protobuf/timestamp.proto\x1a\x1cgoogle/protobuf/struct.proto\"\x92\x02\n" +
	"\vDataMessage\x12\x18\n" +
	"\apayload\x18\x01 \x01(\fR\apayload\x123\n" +
	"\bmetadata\x18\x02 \x01(\v2\x17.google.protobuf.StructR\bmetadata\x128\n" +
	"\ttimestamp\x18\x03 \x01(\v2\x1a.google.protobuf.TimestampR\ttimestamp\x12!\n" +
	"\fcontent_type\x18\x04 \x01(\tR\vcontentType\x12\x1d\n" +
	"\n" +
	"message_id\x18\x05 \x01(\tR\tmessageId\x128\n" +
	"\vsource_info\x18\x06 \x01(\v2\x17.google.protobuf.StructR\n" +
	"sourceInfo\"`\n" +
	"\x0eConsumeRequest\x12/\n" +
	"\amessage\x18\x01 \x01(\v2\x15.consumer.DataMessageR\amessage\x12\x1d\n" +
	"\n" +
	"request_id\x18\x02 \x01(\tR\trequestId\"\xa3\x01\n" +
	"\x0fConsumeResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x122\n" +
	"\n" +
	"error_info\x18\x03 \x01(\v2\x13.consumer.ErrorInfoR\terrorInfo\x12\x1d\n" +
	"\n" +
	"request_id\x18\x04 \x01(\tR\trequestId\"\xec\x01\n" +
	"\tErrorInfo\x12\x12\n" +
	"\x04type\x18\x01 \x01(\tR\x04type\x128\n" +
	"\bseverity\x18\x02 \x01(\x0e2\x1c.consumer.ErrorInfo.SeverityR\bseverity\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\x121\n" +
	"\acontext\x18\x04 \x01(\v2\x17.google.protobuf.StructR\acontext\"D\n" +
	"\bSeverity\x12\v\n" +
	"\aUNKNOWN\x10\x00\x12\t\n" +
	"\x05FATAL\x10\x01\x12\t\n" +
	"\x05ERROR\x10\x02\x12\v\n" +
	"\aWARNING\x10\x03\x12\b\n" +
	"\x04INFO\x10\x04\"c\n" +
	"\x13BatchConsumeRequest\x121\n" +
	"\bmessages\x18\x01 \x03(\v2\x15.consumer.DataMessageR\bmessages\x12\x19\n" +
	"\bbatch_id\x18\x02 \x01(\tR\abatchId\"\x8d\x01\n" +
	"\x14BatchConsumeResponse\x12'\n" +
	"\x0foverall_success\x18\x01 \x01(\bR\x0eoverallSuccess\x121\n" +
	"\aresults\x18\x02 \x03(\v2\x17.consumer.MessageResultR\aresults\x12\x19\n" +
	"\bbatch_id\x18\x03 \x01(\tR\abatchId\"\xa7\x01\n" +
	"\rMessageResult\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x122\n" +
	"\n" +
	"error_info\x18\x03 \x01(\v2\x13.consumer.ErrorInfoR\terrorInfo\x12#\n" +
	"\rmessage_index\x18\x04 \x01(\x05R\fmessageIndex\"\xa4\x01\n" +
	"\x13CapabilitiesRequest\x12N\n" +
	"\vclient_info\x18\x01 \x03(\v2-.consumer.CapabilitiesRequest.ClientInfoEntryR\n" +
	"clientInfo\x1a=\n" +
	"\x0fClientInfoEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\xab\x02\n" +
	"\x14CapabilitiesResponse\x12!\n" +
	"\fservice_name\x18\x01 \x01(\tR\vserviceName\x12'\n" +
	"\x0fservice_version\x18\x02 \x01(\tR\x0eserviceVersion\x12-\n" +
	"\x12supported_features\x18\x03 \x03(\tR\x11supportedFeatures\x12;\n" +
	"\fcapabilities\x18\x04 \x01(\v2\x17.google.protobuf.StructR\fcapabilities\x12+\n" +
	"\x11supported_formats\x18\x05 \x03(\tR\x10supportedFormats\x12.\n" +
	"\aschemas\x18\x06 \x03(\v2\x14.consumer.SchemaInfoR\aschemas\"z\n" +
	"\n" +
	"SchemaInfo\x12\x12\n" +
	"\x04name\x18\x01 \x01(\tR\x04name\x12 \n" +
	"\vdescription\x18\x02 \x01(\tR\vdescription\x12\x1e\n" +
	"\n" +
	"definition\x18\x03 \x01(\tR\n" +
	"definition\x12\x16\n" +
	"\x06format\x18\x04 \x01(\tR\x06format\"\xd4\x01\n" +
	"\x10ConfigureRequest\x12/\n" +
	"\x06config\x18\x01 \x01(\v2\x17.google.protobuf.StructR\x06config\x12R\n" +
	"\x0fvalidation_mode\x18\x02 \x01(\x0e2).consumer.ConfigureRequest.ValidationModeR\x0evalidationMode\";\n" +
	"\x0eValidationMode\x12\x16\n" +
	"\x12VALIDATE_AND_APPLY\x10\x00\x12\x11\n" +
	"\rVALIDATE_ONLY\x10\x01\"\xda\x01\n" +
	"\x11ConfigureResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x12F\n" +
	"\x11validation_issues\x18\x03 \x03(\v2\x19.consumer.ValidationIssueR\x10validationIssues\x12>\n" +
	"\x0ecurrent_config\x18\x04 \x01(\v2\x17.google.protobuf.StructR\rcurrentConfig\"\xaf\x01\n" +
	"\x0fValidationIssue\x12>\n" +
	"\bseverity\x18\x01 \x01(\x0e2\".consumer.ValidationIssue.SeverityR\bseverity\x12\x14\n" +
	"\x05field\x18\x02 \x01(\tR\x05field\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\",\n" +
	"\bSeverity\x12\t\n" +
	"\x05ERROR\x10\x00\x12\v\n" +
	"\aWARNING\x10\x01\x12\b\n" +
	"\x04INFO\x10\x02\"0\n" +
	"\x12HealthCheckRequest\x12\x1a\n" +
	"\bdetailed\x18\x01 \x01(\bR\bdetailed\"\xb5\x02\n" +
	"\x13HealthCheckResponse\x12C\n" +
	"\x06status\x18\x01 \x01(\x0e2+.consumer.HealthCheckResponse.ServingStatusR\x06status\x129\n" +
	"\n" +
	"components\x18\x02 \x03(\v2\x19.consumer.ComponentHealthR\n" +
	"components\x121\n" +
	"\ametrics\x18\x03 \x01(\v2\x17.google.protobuf.StructR\ametrics\"k\n" +
	"\rServingStatus\x12\v\n" +
	"\aUNKNOWN\x10\x00\x12\v\n" +
	"\aSERVING\x10\x01\x12\x0f\n" +
	"\vNOT_SERVING\x10\x02\x12\x13\n" +
	"\x0fSERVICE_UNKNOWN\x10\x03\x12\f\n" +
	"\bSTARTING\x10\x04\x12\f\n" +
	"\bSTOPPING\x10\x05\"\x97\x01\n" +
	"\x0fComponentHealth\x12%\n" +
	"\x0ecomponent_name\x18\x01 \x01(\tR\rcomponentName\x12C\n" +
	"\x06status\x18\x02 \x01(\x0e2+.consumer.HealthCheckResponse.ServingStatusR\x06status\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\"O\n" +
	"\x0eMetricsRequest\x12!\n" +
	"\fmetric_names\x18\x01 \x03(\tR\vmetricNames\x12\x1a\n" +
	"\bdetailed\x18\x02 \x01(\bR\bdetailed\"\x7f\n" +
	"\x0fMetricsResponse\x121\n" +
	"\ametrics\x18\x01 \x01(\v2\x17.google.protobuf.StructR\ametrics\x129\n" +
	"\n" +
	"updated_at\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\tupdatedAt\"\xdc\x01\n" +
	"\x10LifecycleRequest\x12B\n" +
	"\toperation\x18\x01 \x01(\x0e2$.consumer.LifecycleRequest.OperationR\toperation\x127\n" +
	"\n" +
	"parameters\x18\x02 \x01(\v2\x17.google.protobuf.StructR\n" +
	"parameters\"K\n" +
	"\tOperation\x12\x0e\n" +
	"\n" +
	"INITIALIZE\x10\x00\x12\f\n" +
	"\bSHUTDOWN\x10\x01\x12\t\n" +
	"\x05PAUSE\x10\x02\x12\n" +
	"\n" +
	"\x06RESUME\x10\x03\x12\t\n" +
	"\x05RESET\x10\x04\"_\n" +
	"\x11LifecycleResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12\x18\n" +
	"\amessage\x18\x02 \x01(\tR\amessage\x12\x16\n" +
	"\x06status\x18\x03 \x01(\tR\x06status2\xd5\x04\n" +
	"\x0fConsumerService\x12P\n" +
	"\x0fGetCapabilities\x12\x1d.consumer.CapabilitiesRequest\x1a\x1e.consumer.CapabilitiesResponse\x12D\n" +
	"\tConfigure\x12\x1a.consumer.ConfigureRequest\x1a\x1b.consumer.ConfigureResponse\x12>\n" +
	"\aConsume\x12\x18.consumer.ConsumeRequest\x1a\x19.consumer.ConsumeResponse\x12M\n" +
	"\fBatchConsume\x12\x1d.consumer.BatchConsumeRequest\x1a\x1e.consumer.BatchConsumeResponse\x12H\n" +
	"\rStreamConsume\x12\x18.consumer.ConsumeRequest\x1a\x19.consumer.ConsumeResponse(\x010\x01\x12J\n" +
	"\vCheckHealth\x12\x1c.consumer.HealthCheckRequest\x1a\x1d.consumer.HealthCheckResponse\x12A\n" +
	"\n" +
	"GetMetrics\x12\x18.consumer.MetricsRequest\x1a\x19.consumer.MetricsResponse\x12B\n" +
	"\aControl\x12\x1a.consumer.LifecycleRequest\x1a\x1b.consumer.LifecycleResponseB1Z/github.com/withObsrvr/flow-proto/proto/consumerb\x06proto3"

var (
	file_proto_consumer_consumer_proto_rawDescOnce sync.Once
	file_proto_consumer_consumer_proto_rawDescData []byte
)

func file_proto_consumer_consumer_proto_rawDescGZIP() []byte {
	file_proto_consumer_consumer_proto_rawDescOnce.Do(func() {
		file_proto_consumer_consumer_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_proto_consumer_consumer_proto_rawDesc), len(file_proto_consumer_consumer_proto_rawDesc)))
	})
	return file_proto_consumer_consumer_proto_rawDescData
}

var file_proto_consumer_consumer_proto_enumTypes = make([]protoimpl.EnumInfo, 5)
var file_proto_consumer_consumer_proto_msgTypes = make([]protoimpl.MessageInfo, 21)
var file_proto_consumer_consumer_proto_goTypes = []any{
	(ErrorInfo_Severity)(0),                // 0: consumer.ErrorInfo.Severity
	(ConfigureRequest_ValidationMode)(0),   // 1: consumer.ConfigureRequest.ValidationMode
	(ValidationIssue_Severity)(0),          // 2: consumer.ValidationIssue.Severity
	(HealthCheckResponse_ServingStatus)(0), // 3: consumer.HealthCheckResponse.ServingStatus
	(LifecycleRequest_Operation)(0),        // 4: consumer.LifecycleRequest.Operation
	(*DataMessage)(nil),                    // 5: consumer.DataMessage
	(*ConsumeRequest)(nil),                 // 6: consumer.ConsumeRequest
	(*ConsumeResponse)(nil),                // 7: consumer.ConsumeResponse
	(*ErrorInfo)(nil),                      // 8: consumer.ErrorInfo
	(*BatchConsumeRequest)(nil),            // 9: consumer.BatchConsumeRequest
	(*BatchConsumeResponse)(nil),           // 10: consumer.BatchConsumeResponse
	(*MessageResult)(nil),                  // 11: consumer.MessageResult
	(*CapabilitiesRequest)(nil),            // 12: consumer.CapabilitiesRequest
	(*CapabilitiesResponse)(nil),           // 13: consumer.CapabilitiesResponse
	(*SchemaInfo)(nil),                     // 14: consumer.SchemaInfo
	(*ConfigureRequest)(nil),               // 15: consumer.ConfigureRequest
	(*ConfigureResponse)(nil),              // 16: consumer.ConfigureResponse
	(*ValidationIssue)(nil),                // 17: consumer.ValidationIssue
	(*HealthCheckRequest)(nil),             // 18: consumer.HealthCheckRequest
	(*HealthCheckResponse)(nil),            // 19: consumer.HealthCheckResponse
	(*ComponentHealth)(nil),                // 20: consumer.ComponentHealth
	(*MetricsRequest)(nil),                 // 21: consumer.MetricsRequest
	(*MetricsResponse)(nil),                // 22: consumer.MetricsResponse
	(*LifecycleRequest)(nil),               // 23: consumer.LifecycleRequest
	(*LifecycleResponse)(nil),              // 24: consumer.LifecycleResponse
	nil,                                    // 25: consumer.CapabilitiesRequest.ClientInfoEntry
	(*_struct.Struct)(nil),                 // 26: google.protobuf.Struct
	(*timestamp.Timestamp)(nil),            // 27: google.protobuf.Timestamp
}
var file_proto_consumer_consumer_proto_depIdxs = []int32{
	26, // 0: consumer.DataMessage.metadata:type_name -> google.protobuf.Struct
	27, // 1: consumer.DataMessage.timestamp:type_name -> google.protobuf.Timestamp
	26, // 2: consumer.DataMessage.source_info:type_name -> google.protobuf.Struct
	5,  // 3: consumer.ConsumeRequest.message:type_name -> consumer.DataMessage
	8,  // 4: consumer.ConsumeResponse.error_info:type_name -> consumer.ErrorInfo
	0,  // 5: consumer.ErrorInfo.severity:type_name -> consumer.ErrorInfo.Severity
	26, // 6: consumer.ErrorInfo.context:type_name -> google.protobuf.Struct
	5,  // 7: consumer.BatchConsumeRequest.messages:type_name -> consumer.DataMessage
	11, // 8: consumer.BatchConsumeResponse.results:type_name -> consumer.MessageResult
	8,  // 9: consumer.MessageResult.error_info:type_name -> consumer.ErrorInfo
	25, // 10: consumer.CapabilitiesRequest.client_info:type_name -> consumer.CapabilitiesRequest.ClientInfoEntry
	26, // 11: consumer.CapabilitiesResponse.capabilities:type_name -> google.protobuf.Struct
	14, // 12: consumer.CapabilitiesResponse.schemas:type_name -> consumer.SchemaInfo
	26, // 13: consumer.ConfigureRequest.config:type_name -> google.protobuf.Struct
	1,  // 14: consumer.ConfigureRequest.validation_mode:type_name -> consumer.ConfigureRequest.ValidationMode
	17, // 15: consumer.ConfigureResponse.validation_issues:type_name -> consumer.ValidationIssue
	26, // 16: consumer.ConfigureResponse.current_config:type_name -> google.protobuf.Struct
	2,  // 17: consumer.ValidationIssue.severity:type_name -> consumer.ValidationIssue.Severity
	3,  // 18: consumer.HealthCheckResponse.status:type_name -> consumer.HealthCheckResponse.ServingStatus
	20, // 19: consumer.HealthCheckResponse.components:type_name -> consumer.ComponentHealth
	26, // 20: consumer.HealthCheckResponse.metrics:type_name -> google.protobuf.Struct
	3,  // 21: consumer.ComponentHealth.status:type_name -> consumer.HealthCheckResponse.ServingStatus
	26, // 22: consumer.MetricsResponse.metrics:type_name -> google.protobuf.Struct
	27, // 23: consumer.MetricsResponse.updated_at:type_name -> google.protobuf.Timestamp
	4,  // 24: consumer.LifecycleRequest.operation:type_name -> consumer.LifecycleRequest.Operation
	26, // 25: consumer.LifecycleRequest.parameters:type_name -> google.protobuf.Struct
	12, // 26: consumer.ConsumerService.GetCapabilities:input_type -> consumer.CapabilitiesRequest
	15, // 27: consumer.ConsumerService.Configure:input_type -> consumer.ConfigureRequest
	6,  // 28: consumer.ConsumerService.Consume:input_type -> consumer.ConsumeRequest
	9,  // 29: consumer.ConsumerService.BatchConsume:input_type -> consumer.BatchConsumeRequest
	6,  // 30: consumer.ConsumerService.StreamConsume:input_type -> consumer.ConsumeRequest
	18, // 31: consumer.ConsumerService.CheckHealth:input_type -> consumer.HealthCheckRequest
	21, // 32: consumer.ConsumerService.GetMetrics:input_type -> consumer.MetricsRequest
	23, // 33: consumer.ConsumerService.Control:input_type -> consumer.LifecycleRequest
	13, // 34: consumer.ConsumerService.GetCapabilities:output_type -> consumer.CapabilitiesResponse
	16, // 35: consumer.ConsumerService.Configure:output_type -> consumer.ConfigureResponse
	7,  // 36: consumer.ConsumerService.Consume:output_type -> consumer.ConsumeResponse
	10, // 37: consumer.ConsumerService.BatchConsume:output_type -> consumer.BatchConsumeResponse
	7,  // 38: consumer.ConsumerService.StreamConsume:output_type -> consumer.ConsumeResponse
	19, // 39: consumer.ConsumerService.CheckHealth:output_type -> consumer.HealthCheckResponse
	22, // 40: consumer.ConsumerService.GetMetrics:output_type -> consumer.MetricsResponse
	24, // 41: consumer.ConsumerService.Control:output_type -> consumer.LifecycleResponse
	34, // [34:42] is the sub-list for method output_type
	26, // [26:34] is the sub-list for method input_type
	26, // [26:26] is the sub-list for extension type_name
	26, // [26:26] is the sub-list for extension extendee
	0,  // [0:26] is the sub-list for field type_name
}

func init() { file_proto_consumer_consumer_proto_init() }
func file_proto_consumer_consumer_proto_init() {
	if File_proto_consumer_consumer_proto != nil {
		return
	}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_proto_consumer_consumer_proto_rawDesc), len(file_proto_consumer_consumer_proto_rawDesc)),
			NumEnums:      5,
			NumMessages:   21,
			NumExtensions: 0,
			NumServices:   1,
		},
		GoTypes:           file_proto_consumer_consumer_proto_goTypes,
		DependencyIndexes: file_proto_consumer_consumer_proto_depIdxs,
		EnumInfos:         file_proto_consumer_consumer_proto_enumTypes,
		MessageInfos:      file_proto_consumer_consumer_proto_msgTypes,
	}.Build()
	File_proto_consumer_consumer_proto = out.File
	file_proto_consumer_consumer_proto_goTypes = nil
	file_proto_consumer_consumer_proto_depIdxs = nil
}

```

# proto/consumer/consumer.proto

```proto
syntax = "proto3";

package consumer;

import "google/protobuf/timestamp.proto";
import "google/protobuf/struct.proto";

option go_package = "github.com/withObsrvr/flow-proto/proto/consumer";

// DataMessage represents the basic message that the consumer will receive.
message DataMessage {
  // The raw data payload.
  bytes payload = 1;
  
  // Enhanced metadata with support for complex values.
  google.protobuf.Struct metadata = 2;
  
  // Timestamp when the message was created.
  google.protobuf.Timestamp timestamp = 3;
  
  // Content type of the payload (e.g., "application/json", "stellar/xdr")
  string content_type = 4;
  
  // Unique message identifier
  string message_id = 5;
  
  // Source information about the message origin
  google.protobuf.Struct source_info = 6;
}

// ConsumeRequest wraps a DataMessage to be consumed.
message ConsumeRequest {
  DataMessage message = 1;
  
  // Optional request ID for correlation
  string request_id = 2;
}

// ConsumeResponse acknowledges the consumption of a message.
message ConsumeResponse {
  bool success = 1;
  string error_message = 2;
  
  // Detailed error information
  ErrorInfo error_info = 3;
  
  // Response correlation ID matching the request
  string request_id = 4;
}

// Error information for detailed reporting
message ErrorInfo {
  // Error type (e.g., "db", "network", "parsing")
  string type = 1;
  
  // Error severity 
  enum Severity {
    UNKNOWN = 0;
    FATAL = 1;
    ERROR = 2;
    WARNING = 3;
    INFO = 4;
  }
  Severity severity = 2;
  
  // Error message
  string message = 3;
  
  // Additional context
  google.protobuf.Struct context = 4;
}

// Batch consume request for multiple messages
message BatchConsumeRequest {
  repeated DataMessage messages = 1;
  
  // Batch ID for correlation
  string batch_id = 2;
}

// Batch consume response
message BatchConsumeResponse {
  bool overall_success = 1;
  
  // Individual results for each message
  repeated MessageResult results = 2;
  
  // Batch ID for correlation
  string batch_id = 3;
}

// Result for an individual message in a batch
message MessageResult {
  bool success = 1;
  string error_message = 2;
  ErrorInfo error_info = 3;
  int32 message_index = 4;
}

// Enhanced capabilities request
message CapabilitiesRequest {
  // Optional client information
  map<string, string> client_info = 1;
}

// Enhanced capabilities response
message CapabilitiesResponse {
  string service_name = 1;
  string service_version = 2;
  repeated string supported_features = 3;
  
  // Rich capabilities information
  google.protobuf.Struct capabilities = 4;
  
  // Supported data formats
  repeated string supported_formats = 5;
  
  // Schema information provided by the consumer
  repeated SchemaInfo schemas = 6;
}

// Schema information
message SchemaInfo {
  string name = 1;
  string description = 2;
  string definition = 3;
  string format = 4;  // e.g., "sql", "json-schema", "avro"
}

// Enhanced configuration request
message ConfigureRequest {
  // Configuration as structured data
  google.protobuf.Struct config = 1;
  
  // Optional validation mode
  enum ValidationMode {
    VALIDATE_AND_APPLY = 0;
    VALIDATE_ONLY = 1;
  }
  ValidationMode validation_mode = 2;
}

// Enhanced configuration response
message ConfigureResponse {
  bool success = 1;
  string error_message = 2;
  
  // Validation issues
  repeated ValidationIssue validation_issues = 3;
  
  // Current configuration after changes
  google.protobuf.Struct current_config = 4;
}

// Validation issue details
message ValidationIssue {
  enum Severity {
    ERROR = 0;
    WARNING = 1;
    INFO = 2;
  }
  Severity severity = 1;
  string field = 2;
  string message = 3;
}

// Health check request
message HealthCheckRequest {
  bool detailed = 1;
}

// Health check response
message HealthCheckResponse {
  enum ServingStatus {
    UNKNOWN = 0;
    SERVING = 1;
    NOT_SERVING = 2;
    SERVICE_UNKNOWN = 3;
    STARTING = 4;
    STOPPING = 5;
  }
  ServingStatus status = 1;
  
  // Detailed component health
  repeated ComponentHealth components = 2;
  
  // Service metrics
  google.protobuf.Struct metrics = 3;
}

// Component health information
message ComponentHealth {
  string component_name = 1;
  HealthCheckResponse.ServingStatus status = 2;
  string message = 3;
}

// Advanced metrics request with filtering
message MetricsRequest {
  // Optional metric names to filter by
  repeated string metric_names = 1;
  
  // Include detailed metrics breakdown
  bool detailed = 2;
}

// Enhanced metrics response
message MetricsResponse {
  // Metrics as structured data
  google.protobuf.Struct metrics = 1;
  
  // Last updated timestamp
  google.protobuf.Timestamp updated_at = 2;
}

// Lifecycle control request
message LifecycleRequest {
  enum Operation {
    INITIALIZE = 0;
    SHUTDOWN = 1;
    PAUSE = 2;
    RESUME = 3;
    RESET = 4;
  }
  Operation operation = 1;
  
  // Operation parameters
  google.protobuf.Struct parameters = 2;
}

// Lifecycle control response
message LifecycleResponse {
  bool success = 1;
  string message = 2;
  
  // Current status after operation
  string status = 3;
}

// ConsumerService defines the enhanced RPC interface for a consumer.
service ConsumerService {
  // Basic operations
  rpc GetCapabilities(CapabilitiesRequest) returns (CapabilitiesResponse);
  rpc Configure(ConfigureRequest) returns (ConfigureResponse);
  
  // Single message consumption
  rpc Consume(ConsumeRequest) returns (ConsumeResponse);
  
  // Batch message consumption
  rpc BatchConsume(BatchConsumeRequest) returns (BatchConsumeResponse);
  
  // Streaming message consumption
  rpc StreamConsume(stream ConsumeRequest) returns (stream ConsumeResponse);
  
  // Health and metrics
  rpc CheckHealth(HealthCheckRequest) returns (HealthCheckResponse);
  rpc GetMetrics(MetricsRequest) returns (MetricsResponse);
  
  // Lifecycle management
  rpc Control(LifecycleRequest) returns (LifecycleResponse);
}

```

# proto/flow/v1/common.proto

```proto
syntax = "proto3";
package flow.v1;

import "google/protobuf/timestamp.proto";

/** Stable position in the ledger stream. */
message Cursor {
  uint64 ledger_seq = 1;
  uint32 index      = 2;          // index inside ledger (0 for meta)
}

/** Used by sources & processors to resume after crash / reconnect. */
message ResumeToken {
  Cursor cursor          = 1;
  bytes  opaque          = 2;     // vendorspecific checkpoint
  google.protobuf.Timestamp generated_at = 3;
}

```

# proto/flow/v1/envelope.proto

```proto
syntax = "proto3";
package flow.v1;

import "flow/v1/common.proto";
import "google/protobuf/timestamp.proto";
import "ingest/processors/token_transfer/token_transfer_event.proto";  // Stellars existing IDL

enum Kind {
  KIND_UNSPECIFIED = 0;
  LEDGER_META      = 1;   // raw LedgerCloseMeta XDR
  NETWORK_EVENT    = 2;   // Soroban Event, payment op, etc.  raw XDR
  TOKEN_TRANSFER   = 3;   // decoded, schemasafe event
  RESERVED4        = 4;   // leave holes for future native kinds
}

message Envelope {
  /** What is inside. Helps routers decide fast. */
  Kind kind = 1;

  /** Where in the chain this item belongs. */
  Cursor cursor = 2;

  /** Nanosecond wallclock when the source observed it. */
  google.protobuf.Timestamp observed_at = 3;

  /** Oneof payload.  TokenTransferEvent is typed; others stay raw. */
  oneof payload {
    bytes                      ledger_meta_xdr = 10; // Kind = LEDGER_META
    bytes                      event_xdr       = 11; // Kind = NETWORK_EVENT
    token_transfer.TokenTransferEvent token_transfer = 12; // Kind = TOKEN_TRANSFER
  }
}

```

# proto/flow/v1/processor_service.proto

```proto
syntax = "proto3";
package flow.v1;

import "flow/v1/envelope.proto";
import "flow/v1/common.proto";

service ProcessorService {
  // Flow sends Envelopes downstream; processor sends back transformed ones.
  rpc Transform(stream Envelope) returns (stream Envelope);
}

```

# proto/flow/v1/source_service.proto

```proto
syntax = "proto3";
package flow.v1;

import "flow/v1/common.proto";
import "flow/v1/envelope.proto";

/** Parameters Flow passes when it asks a Source to start streaming. */
message StreamRequest {
  uint64                       start_ledger = 1;
  uint64                       stop_ledger  = 2;  // 0 = openended
  repeated bytes               filters      = 3;  // CEL or opaque JSON  sourcespecific
  ResumeToken                  resume_from  = 4;  // optional
}

/** ACK every N envelopes so Source can drop state safely. */
message Ack {
  ResumeToken up_to = 1;
}

service SourceService {
  // Bidi keeps it simple: Flow sends ACKs, Source streams Envelopes.
  rpc Stream(stream Ack) returns (stream Envelope);
}

```

# proto/processor/processor_grpc.pb.go

```go
// Code generated by protoc-gen-go-grpc. DO NOT EDIT.
// versions:
// - protoc-gen-go-grpc v1.5.1
// - protoc             v3.12.4
// source: proto/processor/processor.proto

package processor

import (
	context "context"
	grpc "google.golang.org/grpc"
	codes "google.golang.org/grpc/codes"
	status "google.golang.org/grpc/status"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the grpc package it is being compiled against.
// Requires gRPC-Go v1.64.0 or later.
const _ = grpc.SupportPackageIsVersion9

const (
	ProcessorService_GetCapabilities_FullMethodName    = "/processor.ProcessorService/GetCapabilities"
	ProcessorService_Configure_FullMethodName          = "/processor.ProcessorService/Configure"
	ProcessorService_Process_FullMethodName            = "/processor.ProcessorService/Process"
	ProcessorService_ProcessWithControl_FullMethodName = "/processor.ProcessorService/ProcessWithControl"
	ProcessorService_GetState_FullMethodName           = "/processor.ProcessorService/GetState"
	ProcessorService_CheckHealth_FullMethodName        = "/processor.ProcessorService/CheckHealth"
	ProcessorService_ProcessSingle_FullMethodName      = "/processor.ProcessorService/ProcessSingle"
)

// ProcessorServiceClient is the client API for ProcessorService service.
//
// For semantics around ctx use and closing/ending streaming RPCs, please refer to https://pkg.go.dev/google.golang.org/grpc/?tab=doc#ClientConn.NewStream.
//
// ProcessorService defines the enhanced RPC interface for a processor.
type ProcessorServiceClient interface {
	// Basic operations
	GetCapabilities(ctx context.Context, in *CapabilitiesRequest, opts ...grpc.CallOption) (*CapabilitiesResponse, error)
	Configure(ctx context.Context, in *ConfigureRequest, opts ...grpc.CallOption) (*ConfigureResponse, error)
	// Standard bidirectional streaming process
	Process(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[DataMessage, DataMessage], error)
	// Enhanced bidirectional streaming with control messages
	ProcessWithControl(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[ProcessControlMessage, ProcessControlMessage], error)
	// State management
	GetState(ctx context.Context, in *GetStateRequest, opts ...grpc.CallOption) (*GetStateResponse, error)
	// Health check
	CheckHealth(ctx context.Context, in *HealthCheckRequest, opts ...grpc.CallOption) (*HealthCheckResponse, error)
	// Single message processing (for simple cases)
	ProcessSingle(ctx context.Context, in *DataMessage, opts ...grpc.CallOption) (*DataMessage, error)
}

type processorServiceClient struct {
	cc grpc.ClientConnInterface
}

func NewProcessorServiceClient(cc grpc.ClientConnInterface) ProcessorServiceClient {
	return &processorServiceClient{cc}
}

func (c *processorServiceClient) GetCapabilities(ctx context.Context, in *CapabilitiesRequest, opts ...grpc.CallOption) (*CapabilitiesResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(CapabilitiesResponse)
	err := c.cc.Invoke(ctx, ProcessorService_GetCapabilities_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *processorServiceClient) Configure(ctx context.Context, in *ConfigureRequest, opts ...grpc.CallOption) (*ConfigureResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(ConfigureResponse)
	err := c.cc.Invoke(ctx, ProcessorService_Configure_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *processorServiceClient) Process(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[DataMessage, DataMessage], error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	stream, err := c.cc.NewStream(ctx, &ProcessorService_ServiceDesc.Streams[0], ProcessorService_Process_FullMethodName, cOpts...)
	if err != nil {
		return nil, err
	}
	x := &grpc.GenericClientStream[DataMessage, DataMessage]{ClientStream: stream}
	return x, nil
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type ProcessorService_ProcessClient = grpc.BidiStreamingClient[DataMessage, DataMessage]

func (c *processorServiceClient) ProcessWithControl(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[ProcessControlMessage, ProcessControlMessage], error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	stream, err := c.cc.NewStream(ctx, &ProcessorService_ServiceDesc.Streams[1], ProcessorService_ProcessWithControl_FullMethodName, cOpts...)
	if err != nil {
		return nil, err
	}
	x := &grpc.GenericClientStream[ProcessControlMessage, ProcessControlMessage]{ClientStream: stream}
	return x, nil
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type ProcessorService_ProcessWithControlClient = grpc.BidiStreamingClient[ProcessControlMessage, ProcessControlMessage]

func (c *processorServiceClient) GetState(ctx context.Context, in *GetStateRequest, opts ...grpc.CallOption) (*GetStateResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(GetStateResponse)
	err := c.cc.Invoke(ctx, ProcessorService_GetState_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *processorServiceClient) CheckHealth(ctx context.Context, in *HealthCheckRequest, opts ...grpc.CallOption) (*HealthCheckResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(HealthCheckResponse)
	err := c.cc.Invoke(ctx, ProcessorService_CheckHealth_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *processorServiceClient) ProcessSingle(ctx context.Context, in *DataMessage, opts ...grpc.CallOption) (*DataMessage, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(DataMessage)
	err := c.cc.Invoke(ctx, ProcessorService_ProcessSingle_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

// ProcessorServiceServer is the server API for ProcessorService service.
// All implementations must embed UnimplementedProcessorServiceServer
// for forward compatibility.
//
// ProcessorService defines the enhanced RPC interface for a processor.
type ProcessorServiceServer interface {
	// Basic operations
	GetCapabilities(context.Context, *CapabilitiesRequest) (*CapabilitiesResponse, error)
	Configure(context.Context, *ConfigureRequest) (*ConfigureResponse, error)
	// Standard bidirectional streaming process
	Process(grpc.BidiStreamingServer[DataMessage, DataMessage]) error
	// Enhanced bidirectional streaming with control messages
	ProcessWithControl(grpc.BidiStreamingServer[ProcessControlMessage, ProcessControlMessage]) error
	// State management
	GetState(context.Context, *GetStateRequest) (*GetStateResponse, error)
	// Health check
	CheckHealth(context.Context, *HealthCheckRequest) (*HealthCheckResponse, error)
	// Single message processing (for simple cases)
	ProcessSingle(context.Context, *DataMessage) (*DataMessage, error)
	mustEmbedUnimplementedProcessorServiceServer()
}

// UnimplementedProcessorServiceServer must be embedded to have
// forward compatible implementations.
//
// NOTE: this should be embedded by value instead of pointer to avoid a nil
// pointer dereference when methods are called.
type UnimplementedProcessorServiceServer struct{}

func (UnimplementedProcessorServiceServer) GetCapabilities(context.Context, *CapabilitiesRequest) (*CapabilitiesResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetCapabilities not implemented")
}
func (UnimplementedProcessorServiceServer) Configure(context.Context, *ConfigureRequest) (*ConfigureResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method Configure not implemented")
}
func (UnimplementedProcessorServiceServer) Process(grpc.BidiStreamingServer[DataMessage, DataMessage]) error {
	return status.Errorf(codes.Unimplemented, "method Process not implemented")
}
func (UnimplementedProcessorServiceServer) ProcessWithControl(grpc.BidiStreamingServer[ProcessControlMessage, ProcessControlMessage]) error {
	return status.Errorf(codes.Unimplemented, "method ProcessWithControl not implemented")
}
func (UnimplementedProcessorServiceServer) GetState(context.Context, *GetStateRequest) (*GetStateResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetState not implemented")
}
func (UnimplementedProcessorServiceServer) CheckHealth(context.Context, *HealthCheckRequest) (*HealthCheckResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method CheckHealth not implemented")
}
func (UnimplementedProcessorServiceServer) ProcessSingle(context.Context, *DataMessage) (*DataMessage, error) {
	return nil, status.Errorf(codes.Unimplemented, "method ProcessSingle not implemented")
}
func (UnimplementedProcessorServiceServer) mustEmbedUnimplementedProcessorServiceServer() {}
func (UnimplementedProcessorServiceServer) testEmbeddedByValue()                          {}

// UnsafeProcessorServiceServer may be embedded to opt out of forward compatibility for this service.
// Use of this interface is not recommended, as added methods to ProcessorServiceServer will
// result in compilation errors.
type UnsafeProcessorServiceServer interface {
	mustEmbedUnimplementedProcessorServiceServer()
}

func RegisterProcessorServiceServer(s grpc.ServiceRegistrar, srv ProcessorServiceServer) {
	// If the following call pancis, it indicates UnimplementedProcessorServiceServer was
	// embedded by pointer and is nil.  This will cause panics if an
	// unimplemented method is ever invoked, so we test this at initialization
	// time to prevent it from happening at runtime later due to I/O.
	if t, ok := srv.(interface{ testEmbeddedByValue() }); ok {
		t.testEmbeddedByValue()
	}
	s.RegisterService(&ProcessorService_ServiceDesc, srv)
}

func _ProcessorService_GetCapabilities_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(CapabilitiesRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ProcessorServiceServer).GetCapabilities(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ProcessorService_GetCapabilities_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ProcessorServiceServer).GetCapabilities(ctx, req.(*CapabilitiesRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ProcessorService_Configure_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(ConfigureRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ProcessorServiceServer).Configure(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ProcessorService_Configure_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ProcessorServiceServer).Configure(ctx, req.(*ConfigureRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ProcessorService_Process_Handler(srv interface{}, stream grpc.ServerStream) error {
	return srv.(ProcessorServiceServer).Process(&grpc.GenericServerStream[DataMessage, DataMessage]{ServerStream: stream})
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type ProcessorService_ProcessServer = grpc.BidiStreamingServer[DataMessage, DataMessage]

func _ProcessorService_ProcessWithControl_Handler(srv interface{}, stream grpc.ServerStream) error {
	return srv.(ProcessorServiceServer).ProcessWithControl(&grpc.GenericServerStream[ProcessControlMessage, ProcessControlMessage]{ServerStream: stream})
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type ProcessorService_ProcessWithControlServer = grpc.BidiStreamingServer[ProcessControlMessage, ProcessControlMessage]

func _ProcessorService_GetState_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(GetStateRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ProcessorServiceServer).GetState(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ProcessorService_GetState_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ProcessorServiceServer).GetState(ctx, req.(*GetStateRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ProcessorService_CheckHealth_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(HealthCheckRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ProcessorServiceServer).CheckHealth(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ProcessorService_CheckHealth_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ProcessorServiceServer).CheckHealth(ctx, req.(*HealthCheckRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _ProcessorService_ProcessSingle_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(DataMessage)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(ProcessorServiceServer).ProcessSingle(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: ProcessorService_ProcessSingle_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(ProcessorServiceServer).ProcessSingle(ctx, req.(*DataMessage))
	}
	return interceptor(ctx, in, info, handler)
}

// ProcessorService_ServiceDesc is the grpc.ServiceDesc for ProcessorService service.
// It's only intended for direct use with grpc.RegisterService,
// and not to be introspected or modified (even as a copy)
var ProcessorService_ServiceDesc = grpc.ServiceDesc{
	ServiceName: "processor.ProcessorService",
	HandlerType: (*ProcessorServiceServer)(nil),
	Methods: []grpc.MethodDesc{
		{
			MethodName: "GetCapabilities",
			Handler:    _ProcessorService_GetCapabilities_Handler,
		},
		{
			MethodName: "Configure",
			Handler:    _ProcessorService_Configure_Handler,
		},
		{
			MethodName: "GetState",
			Handler:    _ProcessorService_GetState_Handler,
		},
		{
			MethodName: "CheckHealth",
			Handler:    _ProcessorService_CheckHealth_Handler,
		},
		{
			MethodName: "ProcessSingle",
			Handler:    _ProcessorService_ProcessSingle_Handler,
		},
	},
	Streams: []grpc.StreamDesc{
		{
			StreamName:    "Process",
			Handler:       _ProcessorService_Process_Handler,
			ServerStreams: true,
			ClientStreams: true,
		},
		{
			StreamName:    "ProcessWithControl",
			Handler:       _ProcessorService_ProcessWithControl_Handler,
			ServerStreams: true,
			ClientStreams: true,
		},
	},
	Metadata: "proto/processor/processor.proto",
}

```

# proto/processor/processor.pb.go

```go
// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.6
// 	protoc        v3.12.4
// source: proto/processor/processor.proto

package processor

import (
	_struct "github.com/golang/protobuf/ptypes/struct"
	timestamp "github.com/golang/protobuf/ptypes/timestamp"
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// Optional validation mode
type ConfigureRequest_ValidationMode int32

const (
	ConfigureRequest_VALIDATE_AND_APPLY ConfigureRequest_ValidationMode = 0
	ConfigureRequest_VALIDATE_ONLY      ConfigureRequest_ValidationMode = 1
)

// Enum value maps for ConfigureRequest_ValidationMode.
var (
	ConfigureRequest_ValidationMode_name = map[int32]string{
		0: "VALIDATE_AND_APPLY",
		1: "VALIDATE_ONLY",
	}
	ConfigureRequest_ValidationMode_value = map[string]int32{
		"VALIDATE_AND_APPLY": 0,
		"VALIDATE_ONLY":      1,
	}
)

func (x ConfigureRequest_ValidationMode) Enum() *ConfigureRequest_ValidationMode {
	p := new(ConfigureRequest_ValidationMode)
	*p = x
	return p
}

func (x ConfigureRequest_ValidationMode) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ConfigureRequest_ValidationMode) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_processor_processor_proto_enumTypes[0].Descriptor()
}

func (ConfigureRequest_ValidationMode) Type() protoreflect.EnumType {
	return &file_proto_processor_processor_proto_enumTypes[0]
}

func (x ConfigureRequest_ValidationMode) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ConfigureRequest_ValidationMode.Descriptor instead.
func (ConfigureRequest_ValidationMode) EnumDescriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{3, 0}
}

type ValidationIssue_Severity int32

const (
	ValidationIssue_ERROR   ValidationIssue_Severity = 0
	ValidationIssue_WARNING ValidationIssue_Severity = 1
	ValidationIssue_INFO    ValidationIssue_Severity = 2
)

// Enum value maps for ValidationIssue_Severity.
var (
	ValidationIssue_Severity_name = map[int32]string{
		0: "ERROR",
		1: "WARNING",
		2: "INFO",
	}
	ValidationIssue_Severity_value = map[string]int32{
		"ERROR":   0,
		"WARNING": 1,
		"INFO":    2,
	}
)

func (x ValidationIssue_Severity) Enum() *ValidationIssue_Severity {
	p := new(ValidationIssue_Severity)
	*p = x
	return p
}

func (x ValidationIssue_Severity) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ValidationIssue_Severity) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_processor_processor_proto_enumTypes[1].Descriptor()
}

func (ValidationIssue_Severity) Type() protoreflect.EnumType {
	return &file_proto_processor_processor_proto_enumTypes[1]
}

func (x ValidationIssue_Severity) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ValidationIssue_Severity.Descriptor instead.
func (ValidationIssue_Severity) EnumDescriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{5, 0}
}

type HealthCheckResponse_ServingStatus int32

const (
	HealthCheckResponse_UNKNOWN         HealthCheckResponse_ServingStatus = 0
	HealthCheckResponse_SERVING         HealthCheckResponse_ServingStatus = 1
	HealthCheckResponse_NOT_SERVING     HealthCheckResponse_ServingStatus = 2
	HealthCheckResponse_SERVICE_UNKNOWN HealthCheckResponse_ServingStatus = 3
	HealthCheckResponse_STARTING        HealthCheckResponse_ServingStatus = 4
	HealthCheckResponse_STOPPING        HealthCheckResponse_ServingStatus = 5
)

// Enum value maps for HealthCheckResponse_ServingStatus.
var (
	HealthCheckResponse_ServingStatus_name = map[int32]string{
		0: "UNKNOWN",
		1: "SERVING",
		2: "NOT_SERVING",
		3: "SERVICE_UNKNOWN",
		4: "STARTING",
		5: "STOPPING",
	}
	HealthCheckResponse_ServingStatus_value = map[string]int32{
		"UNKNOWN":         0,
		"SERVING":         1,
		"NOT_SERVING":     2,
		"SERVICE_UNKNOWN": 3,
		"STARTING":        4,
		"STOPPING":        5,
	}
)

func (x HealthCheckResponse_ServingStatus) Enum() *HealthCheckResponse_ServingStatus {
	p := new(HealthCheckResponse_ServingStatus)
	*p = x
	return p
}

func (x HealthCheckResponse_ServingStatus) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (HealthCheckResponse_ServingStatus) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_processor_processor_proto_enumTypes[2].Descriptor()
}

func (HealthCheckResponse_ServingStatus) Type() protoreflect.EnumType {
	return &file_proto_processor_processor_proto_enumTypes[2]
}

func (x HealthCheckResponse_ServingStatus) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use HealthCheckResponse_ServingStatus.Descriptor instead.
func (HealthCheckResponse_ServingStatus) EnumDescriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{10, 0}
}

type ProcessControlMessage_ControlType int32

const (
	ProcessControlMessage_START       ProcessControlMessage_ControlType = 0 // Start a new processing session
	ProcessControlMessage_PAUSE       ProcessControlMessage_ControlType = 1 // Pause processing
	ProcessControlMessage_RESUME      ProcessControlMessage_ControlType = 2 // Resume processing
	ProcessControlMessage_FLUSH       ProcessControlMessage_ControlType = 3 // Flush any pending messages
	ProcessControlMessage_ACKNOWLEDGE ProcessControlMessage_ControlType = 4 // Acknowledge receipt
	ProcessControlMessage_ERROR       ProcessControlMessage_ControlType = 5 // Signal an error
)

// Enum value maps for ProcessControlMessage_ControlType.
var (
	ProcessControlMessage_ControlType_name = map[int32]string{
		0: "START",
		1: "PAUSE",
		2: "RESUME",
		3: "FLUSH",
		4: "ACKNOWLEDGE",
		5: "ERROR",
	}
	ProcessControlMessage_ControlType_value = map[string]int32{
		"START":       0,
		"PAUSE":       1,
		"RESUME":      2,
		"FLUSH":       3,
		"ACKNOWLEDGE": 4,
		"ERROR":       5,
	}
)

func (x ProcessControlMessage_ControlType) Enum() *ProcessControlMessage_ControlType {
	p := new(ProcessControlMessage_ControlType)
	*p = x
	return p
}

func (x ProcessControlMessage_ControlType) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ProcessControlMessage_ControlType) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_processor_processor_proto_enumTypes[3].Descriptor()
}

func (ProcessControlMessage_ControlType) Type() protoreflect.EnumType {
	return &file_proto_processor_processor_proto_enumTypes[3]
}

func (x ProcessControlMessage_ControlType) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ProcessControlMessage_ControlType.Descriptor instead.
func (ProcessControlMessage_ControlType) EnumDescriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{12, 0}
}

// DataMessage represents the basic message exchanged with the processor.
type DataMessage struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// The raw data payload.
	Payload []byte `protobuf:"bytes,1,opt,name=payload,proto3" json:"payload,omitempty"`
	// Rich metadata using structured data
	Metadata *_struct.Struct `protobuf:"bytes,2,opt,name=metadata,proto3" json:"metadata,omitempty"`
	// The time at which the message was created.
	Timestamp *timestamp.Timestamp `protobuf:"bytes,3,opt,name=timestamp,proto3" json:"timestamp,omitempty"`
	// Content type of the payload (e.g., "application/json", "stellar/xdr")
	ContentType string `protobuf:"bytes,4,opt,name=content_type,json=contentType,proto3" json:"content_type,omitempty"`
	// Unique message identifier
	MessageId string `protobuf:"bytes,5,opt,name=message_id,json=messageId,proto3" json:"message_id,omitempty"`
	// Source information (e.g., ledger sequence, transaction ID)
	SourceInfo    *_struct.Struct `protobuf:"bytes,6,opt,name=source_info,json=sourceInfo,proto3" json:"source_info,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *DataMessage) Reset() {
	*x = DataMessage{}
	mi := &file_proto_processor_processor_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *DataMessage) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*DataMessage) ProtoMessage() {}

func (x *DataMessage) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use DataMessage.ProtoReflect.Descriptor instead.
func (*DataMessage) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{0}
}

func (x *DataMessage) GetPayload() []byte {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *DataMessage) GetMetadata() *_struct.Struct {
	if x != nil {
		return x.Metadata
	}
	return nil
}

func (x *DataMessage) GetTimestamp() *timestamp.Timestamp {
	if x != nil {
		return x.Timestamp
	}
	return nil
}

func (x *DataMessage) GetContentType() string {
	if x != nil {
		return x.ContentType
	}
	return ""
}

func (x *DataMessage) GetMessageId() string {
	if x != nil {
		return x.MessageId
	}
	return ""
}

func (x *DataMessage) GetSourceInfo() *_struct.Struct {
	if x != nil {
		return x.SourceInfo
	}
	return nil
}

// CapabilitiesRequest can include context about the client
type CapabilitiesRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional client information
	ClientInfo    map[string]string `protobuf:"bytes,1,rep,name=client_info,json=clientInfo,proto3" json:"client_info,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *CapabilitiesRequest) Reset() {
	*x = CapabilitiesRequest{}
	mi := &file_proto_processor_processor_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *CapabilitiesRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*CapabilitiesRequest) ProtoMessage() {}

func (x *CapabilitiesRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use CapabilitiesRequest.ProtoReflect.Descriptor instead.
func (*CapabilitiesRequest) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{1}
}

func (x *CapabilitiesRequest) GetClientInfo() map[string]string {
	if x != nil {
		return x.ClientInfo
	}
	return nil
}

// CapabilitiesResponse reports the processor's capabilities.
type CapabilitiesResponse struct {
	state             protoimpl.MessageState `protogen:"open.v1"`
	ServiceName       string                 `protobuf:"bytes,1,opt,name=service_name,json=serviceName,proto3" json:"service_name,omitempty"`
	ServiceVersion    string                 `protobuf:"bytes,2,opt,name=service_version,json=serviceVersion,proto3" json:"service_version,omitempty"`
	SupportedFeatures []string               `protobuf:"bytes,3,rep,name=supported_features,json=supportedFeatures,proto3" json:"supported_features,omitempty"`
	// Rich capabilities information
	Capabilities *_struct.Struct `protobuf:"bytes,4,opt,name=capabilities,proto3" json:"capabilities,omitempty"`
	// Input formats this processor can handle
	SupportedInputFormats []string `protobuf:"bytes,5,rep,name=supported_input_formats,json=supportedInputFormats,proto3" json:"supported_input_formats,omitempty"`
	// Output formats this processor can produce
	SupportedOutputFormats []string `protobuf:"bytes,6,rep,name=supported_output_formats,json=supportedOutputFormats,proto3" json:"supported_output_formats,omitempty"`
	// Configuration schema for validation
	ConfigSchema  *_struct.Struct `protobuf:"bytes,7,opt,name=config_schema,json=configSchema,proto3" json:"config_schema,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *CapabilitiesResponse) Reset() {
	*x = CapabilitiesResponse{}
	mi := &file_proto_processor_processor_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *CapabilitiesResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*CapabilitiesResponse) ProtoMessage() {}

func (x *CapabilitiesResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use CapabilitiesResponse.ProtoReflect.Descriptor instead.
func (*CapabilitiesResponse) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{2}
}

func (x *CapabilitiesResponse) GetServiceName() string {
	if x != nil {
		return x.ServiceName
	}
	return ""
}

func (x *CapabilitiesResponse) GetServiceVersion() string {
	if x != nil {
		return x.ServiceVersion
	}
	return ""
}

func (x *CapabilitiesResponse) GetSupportedFeatures() []string {
	if x != nil {
		return x.SupportedFeatures
	}
	return nil
}

func (x *CapabilitiesResponse) GetCapabilities() *_struct.Struct {
	if x != nil {
		return x.Capabilities
	}
	return nil
}

func (x *CapabilitiesResponse) GetSupportedInputFormats() []string {
	if x != nil {
		return x.SupportedInputFormats
	}
	return nil
}

func (x *CapabilitiesResponse) GetSupportedOutputFormats() []string {
	if x != nil {
		return x.SupportedOutputFormats
	}
	return nil
}

func (x *CapabilitiesResponse) GetConfigSchema() *_struct.Struct {
	if x != nil {
		return x.ConfigSchema
	}
	return nil
}

// Enhanced configuration with structured data
type ConfigureRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Configuration as structured data
	Config         *_struct.Struct                 `protobuf:"bytes,1,opt,name=config,proto3" json:"config,omitempty"`
	ValidationMode ConfigureRequest_ValidationMode `protobuf:"varint,2,opt,name=validation_mode,json=validationMode,proto3,enum=processor.ConfigureRequest_ValidationMode" json:"validation_mode,omitempty"`
	unknownFields  protoimpl.UnknownFields
	sizeCache      protoimpl.SizeCache
}

func (x *ConfigureRequest) Reset() {
	*x = ConfigureRequest{}
	mi := &file_proto_processor_processor_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConfigureRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConfigureRequest) ProtoMessage() {}

func (x *ConfigureRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConfigureRequest.ProtoReflect.Descriptor instead.
func (*ConfigureRequest) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{3}
}

func (x *ConfigureRequest) GetConfig() *_struct.Struct {
	if x != nil {
		return x.Config
	}
	return nil
}

func (x *ConfigureRequest) GetValidationMode() ConfigureRequest_ValidationMode {
	if x != nil {
		return x.ValidationMode
	}
	return ConfigureRequest_VALIDATE_AND_APPLY
}

// Enhanced configuration response
type ConfigureResponse struct {
	state        protoimpl.MessageState `protogen:"open.v1"`
	Success      bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	// Detailed validation issues
	ValidationIssues []*ValidationIssue `protobuf:"bytes,3,rep,name=validation_issues,json=validationIssues,proto3" json:"validation_issues,omitempty"`
	// Current configuration after changes
	CurrentConfig *_struct.Struct `protobuf:"bytes,4,opt,name=current_config,json=currentConfig,proto3" json:"current_config,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ConfigureResponse) Reset() {
	*x = ConfigureResponse{}
	mi := &file_proto_processor_processor_proto_msgTypes[4]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConfigureResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConfigureResponse) ProtoMessage() {}

func (x *ConfigureResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[4]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConfigureResponse.ProtoReflect.Descriptor instead.
func (*ConfigureResponse) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{4}
}

func (x *ConfigureResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *ConfigureResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *ConfigureResponse) GetValidationIssues() []*ValidationIssue {
	if x != nil {
		return x.ValidationIssues
	}
	return nil
}

func (x *ConfigureResponse) GetCurrentConfig() *_struct.Struct {
	if x != nil {
		return x.CurrentConfig
	}
	return nil
}

// Validation issue details
type ValidationIssue struct {
	state         protoimpl.MessageState   `protogen:"open.v1"`
	Severity      ValidationIssue_Severity `protobuf:"varint,1,opt,name=severity,proto3,enum=processor.ValidationIssue_Severity" json:"severity,omitempty"`
	Field         string                   `protobuf:"bytes,2,opt,name=field,proto3" json:"field,omitempty"`
	Message       string                   `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ValidationIssue) Reset() {
	*x = ValidationIssue{}
	mi := &file_proto_processor_processor_proto_msgTypes[5]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ValidationIssue) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ValidationIssue) ProtoMessage() {}

func (x *ValidationIssue) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[5]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ValidationIssue.ProtoReflect.Descriptor instead.
func (*ValidationIssue) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{5}
}

func (x *ValidationIssue) GetSeverity() ValidationIssue_Severity {
	if x != nil {
		return x.Severity
	}
	return ValidationIssue_ERROR
}

func (x *ValidationIssue) GetField() string {
	if x != nil {
		return x.Field
	}
	return ""
}

func (x *ValidationIssue) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Error information for detailed error reporting
type ErrorInfo struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Error type (e.g., "config", "network", "processing")
	Type string `protobuf:"bytes,1,opt,name=type,proto3" json:"type,omitempty"`
	// Error severity (e.g., "fatal", "warning", "info")
	Severity string `protobuf:"bytes,2,opt,name=severity,proto3" json:"severity,omitempty"`
	// Error message
	Message string `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	// Context information
	Context       *_struct.Struct `protobuf:"bytes,4,opt,name=context,proto3" json:"context,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ErrorInfo) Reset() {
	*x = ErrorInfo{}
	mi := &file_proto_processor_processor_proto_msgTypes[6]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ErrorInfo) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ErrorInfo) ProtoMessage() {}

func (x *ErrorInfo) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[6]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ErrorInfo.ProtoReflect.Descriptor instead.
func (*ErrorInfo) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{6}
}

func (x *ErrorInfo) GetType() string {
	if x != nil {
		return x.Type
	}
	return ""
}

func (x *ErrorInfo) GetSeverity() string {
	if x != nil {
		return x.Severity
	}
	return ""
}

func (x *ErrorInfo) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

func (x *ErrorInfo) GetContext() *_struct.Struct {
	if x != nil {
		return x.Context
	}
	return nil
}

// State request message
type GetStateRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional state key or namespace
	StateKey      string `protobuf:"bytes,1,opt,name=state_key,json=stateKey,proto3" json:"state_key,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *GetStateRequest) Reset() {
	*x = GetStateRequest{}
	mi := &file_proto_processor_processor_proto_msgTypes[7]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetStateRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetStateRequest) ProtoMessage() {}

func (x *GetStateRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[7]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetStateRequest.ProtoReflect.Descriptor instead.
func (*GetStateRequest) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{7}
}

func (x *GetStateRequest) GetStateKey() string {
	if x != nil {
		return x.StateKey
	}
	return ""
}

// State response message
type GetStateResponse struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// State data as structured information
	State *_struct.Struct `protobuf:"bytes,1,opt,name=state,proto3" json:"state,omitempty"`
	// Last update timestamp
	LastUpdated   *timestamp.Timestamp `protobuf:"bytes,2,opt,name=last_updated,json=lastUpdated,proto3" json:"last_updated,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *GetStateResponse) Reset() {
	*x = GetStateResponse{}
	mi := &file_proto_processor_processor_proto_msgTypes[8]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetStateResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetStateResponse) ProtoMessage() {}

func (x *GetStateResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[8]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetStateResponse.ProtoReflect.Descriptor instead.
func (*GetStateResponse) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{8}
}

func (x *GetStateResponse) GetState() *_struct.Struct {
	if x != nil {
		return x.State
	}
	return nil
}

func (x *GetStateResponse) GetLastUpdated() *timestamp.Timestamp {
	if x != nil {
		return x.LastUpdated
	}
	return nil
}

// Health check request
type HealthCheckRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Request detailed health information
	Detailed      bool `protobuf:"varint,1,opt,name=detailed,proto3" json:"detailed,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthCheckRequest) Reset() {
	*x = HealthCheckRequest{}
	mi := &file_proto_processor_processor_proto_msgTypes[9]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthCheckRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthCheckRequest) ProtoMessage() {}

func (x *HealthCheckRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[9]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthCheckRequest.ProtoReflect.Descriptor instead.
func (*HealthCheckRequest) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{9}
}

func (x *HealthCheckRequest) GetDetailed() bool {
	if x != nil {
		return x.Detailed
	}
	return false
}

// Health check response
type HealthCheckResponse struct {
	state  protoimpl.MessageState            `protogen:"open.v1"`
	Status HealthCheckResponse_ServingStatus `protobuf:"varint,1,opt,name=status,proto3,enum=processor.HealthCheckResponse_ServingStatus" json:"status,omitempty"`
	// Detailed component health states
	Components []*ComponentHealth `protobuf:"bytes,2,rep,name=components,proto3" json:"components,omitempty"`
	// Current metrics
	Metrics       *_struct.Struct `protobuf:"bytes,3,opt,name=metrics,proto3" json:"metrics,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthCheckResponse) Reset() {
	*x = HealthCheckResponse{}
	mi := &file_proto_processor_processor_proto_msgTypes[10]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthCheckResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthCheckResponse) ProtoMessage() {}

func (x *HealthCheckResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[10]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthCheckResponse.ProtoReflect.Descriptor instead.
func (*HealthCheckResponse) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{10}
}

func (x *HealthCheckResponse) GetStatus() HealthCheckResponse_ServingStatus {
	if x != nil {
		return x.Status
	}
	return HealthCheckResponse_UNKNOWN
}

func (x *HealthCheckResponse) GetComponents() []*ComponentHealth {
	if x != nil {
		return x.Components
	}
	return nil
}

func (x *HealthCheckResponse) GetMetrics() *_struct.Struct {
	if x != nil {
		return x.Metrics
	}
	return nil
}

// Component health information
type ComponentHealth struct {
	state         protoimpl.MessageState            `protogen:"open.v1"`
	ComponentName string                            `protobuf:"bytes,1,opt,name=component_name,json=componentName,proto3" json:"component_name,omitempty"`
	Status        HealthCheckResponse_ServingStatus `protobuf:"varint,2,opt,name=status,proto3,enum=processor.HealthCheckResponse_ServingStatus" json:"status,omitempty"`
	Message       string                            `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ComponentHealth) Reset() {
	*x = ComponentHealth{}
	mi := &file_proto_processor_processor_proto_msgTypes[11]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ComponentHealth) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ComponentHealth) ProtoMessage() {}

func (x *ComponentHealth) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[11]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ComponentHealth.ProtoReflect.Descriptor instead.
func (*ComponentHealth) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{11}
}

func (x *ComponentHealth) GetComponentName() string {
	if x != nil {
		return x.ComponentName
	}
	return ""
}

func (x *ComponentHealth) GetStatus() HealthCheckResponse_ServingStatus {
	if x != nil {
		return x.Status
	}
	return HealthCheckResponse_UNKNOWN
}

func (x *ComponentHealth) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Message for batch processing control
type ProcessControlMessage struct {
	state       protoimpl.MessageState            `protogen:"open.v1"`
	ControlType ProcessControlMessage_ControlType `protobuf:"varint,1,opt,name=control_type,json=controlType,proto3,enum=processor.ProcessControlMessage_ControlType" json:"control_type,omitempty"`
	// Control parameters
	Parameters *_struct.Struct `protobuf:"bytes,2,opt,name=parameters,proto3" json:"parameters,omitempty"`
	// Error information if control_type is ERROR
	Error *ErrorInfo `protobuf:"bytes,3,opt,name=error,proto3" json:"error,omitempty"`
	// Correlation ID for matching requests with responses
	CorrelationId string `protobuf:"bytes,4,opt,name=correlation_id,json=correlationId,proto3" json:"correlation_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ProcessControlMessage) Reset() {
	*x = ProcessControlMessage{}
	mi := &file_proto_processor_processor_proto_msgTypes[12]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ProcessControlMessage) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ProcessControlMessage) ProtoMessage() {}

func (x *ProcessControlMessage) ProtoReflect() protoreflect.Message {
	mi := &file_proto_processor_processor_proto_msgTypes[12]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ProcessControlMessage.ProtoReflect.Descriptor instead.
func (*ProcessControlMessage) Descriptor() ([]byte, []int) {
	return file_proto_processor_processor_proto_rawDescGZIP(), []int{12}
}

func (x *ProcessControlMessage) GetControlType() ProcessControlMessage_ControlType {
	if x != nil {
		return x.ControlType
	}
	return ProcessControlMessage_START
}

func (x *ProcessControlMessage) GetParameters() *_struct.Struct {
	if x != nil {
		return x.Parameters
	}
	return nil
}

func (x *ProcessControlMessage) GetError() *ErrorInfo {
	if x != nil {
		return x.Error
	}
	return nil
}

func (x *ProcessControlMessage) GetCorrelationId() string {
	if x != nil {
		return x.CorrelationId
	}
	return ""
}

var File_proto_processor_processor_proto protoreflect.FileDescriptor

const file_proto_processor_processor_proto_rawDesc = "" +
	"\n" +
	"\x1fproto/processor/processor.proto\x12\tprocessor\x1a\x1fgoogle/protobuf/timestamp.proto\x1a\x1cgoogle/protobuf/struct.proto\"\x92\x02\n" +
	"\vDataMessage\x12\x18\n" +
	"\apayload\x18\x01 \x01(\fR\apayload\x123\n" +
	"\bmetadata\x18\x02 \x01(\v2\x17.google.protobuf.StructR\bmetadata\x128\n" +
	"\ttimestamp\x18\x03 \x01(\v2\x1a.google.protobuf.TimestampR\ttimestamp\x12!\n" +
	"\fcontent_type\x18\x04 \x01(\tR\vcontentType\x12\x1d\n" +
	"\n" +
	"message_id\x18\x05 \x01(\tR\tmessageId\x128\n" +
	"\vsource_info\x18\x06 \x01(\v2\x17.google.protobuf.StructR\n" +
	"sourceInfo\"\xa5\x01\n" +
	"\x13CapabilitiesRequest\x12O\n" +
	"\vclient_info\x18\x01 \x03(\v2..processor.CapabilitiesRequest.ClientInfoEntryR\n" +
	"clientInfo\x1a=\n" +
	"\x0fClientInfoEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x01\"\xfe\x02\n" +
	"\x14CapabilitiesResponse\x12!\n" +
	"\fservice_name\x18\x01 \x01(\tR\vserviceName\x12'\n" +
	"\x0fservice_version\x18\x02 \x01(\tR\x0eserviceVersion\x12-\n" +
	"\x12supported_features\x18\x03 \x03(\tR\x11supportedFeatures\x12;\n" +
	"\fcapabilities\x18\x04 \x01(\v2\x17.google.protobuf.StructR\fcapabilities\x126\n" +
	"\x17supported_input_formats\x18\x05 \x03(\tR\x15supportedInputFormats\x128\n" +
	"\x18supported_output_formats\x18\x06 \x03(\tR\x16supportedOutputFormats\x12<\n" +
	"\rconfig_schema\x18\a \x01(\v2\x17.google.protobuf.StructR\fconfigSchema\"\xd5\x01\n" +
	"\x10ConfigureRequest\x12/\n" +
	"\x06config\x18\x01 \x01(\v2\x17.google.protobuf.StructR\x06config\x12S\n" +
	"\x0fvalidation_mode\x18\x02 \x01(\x0e2*.processor.ConfigureRequest.ValidationModeR\x0evalidationMode\";\n" +
	"\x0eValidationMode\x12\x16\n" +
	"\x12VALIDATE_AND_APPLY\x10\x00\x12\x11\n" +
	"\rVALIDATE_ONLY\x10\x01\"\xdb\x01\n" +
	"\x11ConfigureResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x12G\n" +
	"\x11validation_issues\x18\x03 \x03(\v2\x1a.processor.ValidationIssueR\x10validationIssues\x12>\n" +
	"\x0ecurrent_config\x18\x04 \x01(\v2\x17.google.protobuf.StructR\rcurrentConfig\"\xb0\x01\n" +
	"\x0fValidationIssue\x12?\n" +
	"\bseverity\x18\x01 \x01(\x0e2#.processor.ValidationIssue.SeverityR\bseverity\x12\x14\n" +
	"\x05field\x18\x02 \x01(\tR\x05field\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\",\n" +
	"\bSeverity\x12\t\n" +
	"\x05ERROR\x10\x00\x12\v\n" +
	"\aWARNING\x10\x01\x12\b\n" +
	"\x04INFO\x10\x02\"\x88\x01\n" +
	"\tErrorInfo\x12\x12\n" +
	"\x04type\x18\x01 \x01(\tR\x04type\x12\x1a\n" +
	"\bseverity\x18\x02 \x01(\tR\bseverity\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\x121\n" +
	"\acontext\x18\x04 \x01(\v2\x17.google.protobuf.StructR\acontext\".\n" +
	"\x0fGetStateRequest\x12\x1b\n" +
	"\tstate_key\x18\x01 \x01(\tR\bstateKey\"\x80\x01\n" +
	"\x10GetStateResponse\x12-\n" +
	"\x05state\x18\x01 \x01(\v2\x17.google.protobuf.StructR\x05state\x12=\n" +
	"\flast_updated\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\vlastUpdated\"0\n" +
	"\x12HealthCheckRequest\x12\x1a\n" +
	"\bdetailed\x18\x01 \x01(\bR\bdetailed\"\xb7\x02\n" +
	"\x13HealthCheckResponse\x12D\n" +
	"\x06status\x18\x01 \x01(\x0e2,.processor.HealthCheckResponse.ServingStatusR\x06status\x12:\n" +
	"\n" +
	"components\x18\x02 \x03(\v2\x1a.processor.ComponentHealthR\n" +
	"components\x121\n" +
	"\ametrics\x18\x03 \x01(\v2\x17.google.protobuf.StructR\ametrics\"k\n" +
	"\rServingStatus\x12\v\n" +
	"\aUNKNOWN\x10\x00\x12\v\n" +
	"\aSERVING\x10\x01\x12\x0f\n" +
	"\vNOT_SERVING\x10\x02\x12\x13\n" +
	"\x0fSERVICE_UNKNOWN\x10\x03\x12\f\n" +
	"\bSTARTING\x10\x04\x12\f\n" +
	"\bSTOPPING\x10\x05\"\x98\x01\n" +
	"\x0fComponentHealth\x12%\n" +
	"\x0ecomponent_name\x18\x01 \x01(\tR\rcomponentName\x12D\n" +
	"\x06status\x18\x02 \x01(\x0e2,.processor.HealthCheckResponse.ServingStatusR\x06status\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\"\xcc\x02\n" +
	"\x15ProcessControlMessage\x12O\n" +
	"\fcontrol_type\x18\x01 \x01(\x0e2,.processor.ProcessControlMessage.ControlTypeR\vcontrolType\x127\n" +
	"\n" +
	"parameters\x18\x02 \x01(\v2\x17.google.protobuf.StructR\n" +
	"parameters\x12*\n" +
	"\x05error\x18\x03 \x01(\v2\x14.processor.ErrorInfoR\x05error\x12%\n" +
	"\x0ecorrelation_id\x18\x04 \x01(\tR\rcorrelationId\"V\n" +
	"\vControlType\x12\t\n" +
	"\x05START\x10\x00\x12\t\n" +
	"\x05PAUSE\x10\x01\x12\n" +
	"\n" +
	"\x06RESUME\x10\x02\x12\t\n" +
	"\x05FLUSH\x10\x03\x12\x0f\n" +
	"\vACKNOWLEDGE\x10\x04\x12\t\n" +
	"\x05ERROR\x10\x052\x9f\x04\n" +
	"\x10ProcessorService\x12R\n" +
	"\x0fGetCapabilities\x12\x1e.processor.CapabilitiesRequest\x1a\x1f.processor.CapabilitiesResponse\x12F\n" +
	"\tConfigure\x12\x1b.processor.ConfigureRequest\x1a\x1c.processor.ConfigureResponse\x12=\n" +
	"\aProcess\x12\x16.processor.DataMessage\x1a\x16.processor.DataMessage(\x010\x01\x12\\\n" +
	"\x12ProcessWithControl\x12 .processor.ProcessControlMessage\x1a .processor.ProcessControlMessage(\x010\x01\x12C\n" +
	"\bGetState\x12\x1a.processor.GetStateRequest\x1a\x1b.processor.GetStateResponse\x12L\n" +
	"\vCheckHealth\x12\x1d.processor.HealthCheckRequest\x1a\x1e.processor.HealthCheckResponse\x12?\n" +
	"\rProcessSingle\x12\x16.processor.DataMessage\x1a\x16.processor.DataMessageB2Z0github.com/withObsrvr/flow-proto/proto/processorb\x06proto3"

var (
	file_proto_processor_processor_proto_rawDescOnce sync.Once
	file_proto_processor_processor_proto_rawDescData []byte
)

func file_proto_processor_processor_proto_rawDescGZIP() []byte {
	file_proto_processor_processor_proto_rawDescOnce.Do(func() {
		file_proto_processor_processor_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_proto_processor_processor_proto_rawDesc), len(file_proto_processor_processor_proto_rawDesc)))
	})
	return file_proto_processor_processor_proto_rawDescData
}

var file_proto_processor_processor_proto_enumTypes = make([]protoimpl.EnumInfo, 4)
var file_proto_processor_processor_proto_msgTypes = make([]protoimpl.MessageInfo, 14)
var file_proto_processor_processor_proto_goTypes = []any{
	(ConfigureRequest_ValidationMode)(0),   // 0: processor.ConfigureRequest.ValidationMode
	(ValidationIssue_Severity)(0),          // 1: processor.ValidationIssue.Severity
	(HealthCheckResponse_ServingStatus)(0), // 2: processor.HealthCheckResponse.ServingStatus
	(ProcessControlMessage_ControlType)(0), // 3: processor.ProcessControlMessage.ControlType
	(*DataMessage)(nil),                    // 4: processor.DataMessage
	(*CapabilitiesRequest)(nil),            // 5: processor.CapabilitiesRequest
	(*CapabilitiesResponse)(nil),           // 6: processor.CapabilitiesResponse
	(*ConfigureRequest)(nil),               // 7: processor.ConfigureRequest
	(*ConfigureResponse)(nil),              // 8: processor.ConfigureResponse
	(*ValidationIssue)(nil),                // 9: processor.ValidationIssue
	(*ErrorInfo)(nil),                      // 10: processor.ErrorInfo
	(*GetStateRequest)(nil),                // 11: processor.GetStateRequest
	(*GetStateResponse)(nil),               // 12: processor.GetStateResponse
	(*HealthCheckRequest)(nil),             // 13: processor.HealthCheckRequest
	(*HealthCheckResponse)(nil),            // 14: processor.HealthCheckResponse
	(*ComponentHealth)(nil),                // 15: processor.ComponentHealth
	(*ProcessControlMessage)(nil),          // 16: processor.ProcessControlMessage
	nil,                                    // 17: processor.CapabilitiesRequest.ClientInfoEntry
	(*_struct.Struct)(nil),                 // 18: google.protobuf.Struct
	(*timestamp.Timestamp)(nil),            // 19: google.protobuf.Timestamp
}
var file_proto_processor_processor_proto_depIdxs = []int32{
	18, // 0: processor.DataMessage.metadata:type_name -> google.protobuf.Struct
	19, // 1: processor.DataMessage.timestamp:type_name -> google.protobuf.Timestamp
	18, // 2: processor.DataMessage.source_info:type_name -> google.protobuf.Struct
	17, // 3: processor.CapabilitiesRequest.client_info:type_name -> processor.CapabilitiesRequest.ClientInfoEntry
	18, // 4: processor.CapabilitiesResponse.capabilities:type_name -> google.protobuf.Struct
	18, // 5: processor.CapabilitiesResponse.config_schema:type_name -> google.protobuf.Struct
	18, // 6: processor.ConfigureRequest.config:type_name -> google.protobuf.Struct
	0,  // 7: processor.ConfigureRequest.validation_mode:type_name -> processor.ConfigureRequest.ValidationMode
	9,  // 8: processor.ConfigureResponse.validation_issues:type_name -> processor.ValidationIssue
	18, // 9: processor.ConfigureResponse.current_config:type_name -> google.protobuf.Struct
	1,  // 10: processor.ValidationIssue.severity:type_name -> processor.ValidationIssue.Severity
	18, // 11: processor.ErrorInfo.context:type_name -> google.protobuf.Struct
	18, // 12: processor.GetStateResponse.state:type_name -> google.protobuf.Struct
	19, // 13: processor.GetStateResponse.last_updated:type_name -> google.protobuf.Timestamp
	2,  // 14: processor.HealthCheckResponse.status:type_name -> processor.HealthCheckResponse.ServingStatus
	15, // 15: processor.HealthCheckResponse.components:type_name -> processor.ComponentHealth
	18, // 16: processor.HealthCheckResponse.metrics:type_name -> google.protobuf.Struct
	2,  // 17: processor.ComponentHealth.status:type_name -> processor.HealthCheckResponse.ServingStatus
	3,  // 18: processor.ProcessControlMessage.control_type:type_name -> processor.ProcessControlMessage.ControlType
	18, // 19: processor.ProcessControlMessage.parameters:type_name -> google.protobuf.Struct
	10, // 20: processor.ProcessControlMessage.error:type_name -> processor.ErrorInfo
	5,  // 21: processor.ProcessorService.GetCapabilities:input_type -> processor.CapabilitiesRequest
	7,  // 22: processor.ProcessorService.Configure:input_type -> processor.ConfigureRequest
	4,  // 23: processor.ProcessorService.Process:input_type -> processor.DataMessage
	16, // 24: processor.ProcessorService.ProcessWithControl:input_type -> processor.ProcessControlMessage
	11, // 25: processor.ProcessorService.GetState:input_type -> processor.GetStateRequest
	13, // 26: processor.ProcessorService.CheckHealth:input_type -> processor.HealthCheckRequest
	4,  // 27: processor.ProcessorService.ProcessSingle:input_type -> processor.DataMessage
	6,  // 28: processor.ProcessorService.GetCapabilities:output_type -> processor.CapabilitiesResponse
	8,  // 29: processor.ProcessorService.Configure:output_type -> processor.ConfigureResponse
	4,  // 30: processor.ProcessorService.Process:output_type -> processor.DataMessage
	16, // 31: processor.ProcessorService.ProcessWithControl:output_type -> processor.ProcessControlMessage
	12, // 32: processor.ProcessorService.GetState:output_type -> processor.GetStateResponse
	14, // 33: processor.ProcessorService.CheckHealth:output_type -> processor.HealthCheckResponse
	4,  // 34: processor.ProcessorService.ProcessSingle:output_type -> processor.DataMessage
	28, // [28:35] is the sub-list for method output_type
	21, // [21:28] is the sub-list for method input_type
	21, // [21:21] is the sub-list for extension type_name
	21, // [21:21] is the sub-list for extension extendee
	0,  // [0:21] is the sub-list for field type_name
}

func init() { file_proto_processor_processor_proto_init() }
func file_proto_processor_processor_proto_init() {
	if File_proto_processor_processor_proto != nil {
		return
	}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_proto_processor_processor_proto_rawDesc), len(file_proto_processor_processor_proto_rawDesc)),
			NumEnums:      4,
			NumMessages:   14,
			NumExtensions: 0,
			NumServices:   1,
		},
		GoTypes:           file_proto_processor_processor_proto_goTypes,
		DependencyIndexes: file_proto_processor_processor_proto_depIdxs,
		EnumInfos:         file_proto_processor_processor_proto_enumTypes,
		MessageInfos:      file_proto_processor_processor_proto_msgTypes,
	}.Build()
	File_proto_processor_processor_proto = out.File
	file_proto_processor_processor_proto_goTypes = nil
	file_proto_processor_processor_proto_depIdxs = nil
}

```

# proto/processor/processor.proto

```proto
syntax = "proto3";

package processor;

import "google/protobuf/timestamp.proto";
import "google/protobuf/struct.proto";

option go_package = "github.com/withObsrvr/flow-proto/proto/processor";

// DataMessage represents the basic message exchanged with the processor.
message DataMessage {
  // The raw data payload.
  bytes payload = 1;
  
  // Rich metadata using structured data
  google.protobuf.Struct metadata = 2;
  
  // The time at which the message was created.
  google.protobuf.Timestamp timestamp = 3;
  
  // Content type of the payload (e.g., "application/json", "stellar/xdr")
  string content_type = 4;
  
  // Unique message identifier
  string message_id = 5;
  
  // Source information (e.g., ledger sequence, transaction ID)
  google.protobuf.Struct source_info = 6;
}

// CapabilitiesRequest can include context about the client
message CapabilitiesRequest {
  // Optional client information
  map<string, string> client_info = 1;
}

// CapabilitiesResponse reports the processor's capabilities.
message CapabilitiesResponse {
  string service_name = 1;
  string service_version = 2;
  repeated string supported_features = 3;
  
  // Rich capabilities information
  google.protobuf.Struct capabilities = 4;
  
  // Input formats this processor can handle
  repeated string supported_input_formats = 5;
  
  // Output formats this processor can produce
  repeated string supported_output_formats = 6;
  
  // Configuration schema for validation
  google.protobuf.Struct config_schema = 7;
}

// Enhanced configuration with structured data
message ConfigureRequest {
  // Configuration as structured data
  google.protobuf.Struct config = 1;
  
  // Optional validation mode
  enum ValidationMode {
    VALIDATE_AND_APPLY = 0;
    VALIDATE_ONLY = 1;
  }
  ValidationMode validation_mode = 2;
}

// Enhanced configuration response
message ConfigureResponse {
  bool success = 1;
  string error_message = 2;
  
  // Detailed validation issues
  repeated ValidationIssue validation_issues = 3;
  
  // Current configuration after changes
  google.protobuf.Struct current_config = 4;
}

// Validation issue details
message ValidationIssue {
  enum Severity {
    ERROR = 0;
    WARNING = 1;
    INFO = 2;
  }
  Severity severity = 1;
  string field = 2;
  string message = 3;
}

// Error information for detailed error reporting
message ErrorInfo {
  // Error type (e.g., "config", "network", "processing")
  string type = 1;
  
  // Error severity (e.g., "fatal", "warning", "info")
  string severity = 2;
  
  // Error message
  string message = 3;
  
  // Context information
  google.protobuf.Struct context = 4;
}

// State request message
message GetStateRequest {
  // Optional state key or namespace
  string state_key = 1;
}

// State response message
message GetStateResponse {
  // State data as structured information
  google.protobuf.Struct state = 1;
  
  // Last update timestamp
  google.protobuf.Timestamp last_updated = 2;
}

// Health check request
message HealthCheckRequest {
  // Request detailed health information
  bool detailed = 1;
}

// Health check response
message HealthCheckResponse {
  enum ServingStatus {
    UNKNOWN = 0;
    SERVING = 1;
    NOT_SERVING = 2;
    SERVICE_UNKNOWN = 3;
    STARTING = 4;
    STOPPING = 5;
  }
  ServingStatus status = 1;
  
  // Detailed component health states
  repeated ComponentHealth components = 2;
  
  // Current metrics
  google.protobuf.Struct metrics = 3;
}

// Component health information
message ComponentHealth {
  string component_name = 1;
  HealthCheckResponse.ServingStatus status = 2;
  string message = 3;
}

// Message for batch processing control
message ProcessControlMessage {
  enum ControlType {
    START = 0;      // Start a new processing session
    PAUSE = 1;      // Pause processing
    RESUME = 2;     // Resume processing
    FLUSH = 3;      // Flush any pending messages
    ACKNOWLEDGE = 4; // Acknowledge receipt
    ERROR = 5;      // Signal an error
  }
  ControlType control_type = 1;
  
  // Control parameters
  google.protobuf.Struct parameters = 2;
  
  // Error information if control_type is ERROR
  ErrorInfo error = 3;
  
  // Correlation ID for matching requests with responses
  string correlation_id = 4;
}

// ProcessorService defines the enhanced RPC interface for a processor.
service ProcessorService {
  // Basic operations
  rpc GetCapabilities(CapabilitiesRequest) returns (CapabilitiesResponse);
  rpc Configure(ConfigureRequest) returns (ConfigureResponse);
  
  // Standard bidirectional streaming process
  rpc Process(stream DataMessage) returns (stream DataMessage);
  
  // Enhanced bidirectional streaming with control messages
  rpc ProcessWithControl(stream ProcessControlMessage) returns (stream ProcessControlMessage);
  
  // State management
  rpc GetState(GetStateRequest) returns (GetStateResponse);
  
  // Health check
  rpc CheckHealth(HealthCheckRequest) returns (HealthCheckResponse);
  
  // Single message processing (for simple cases)
  rpc ProcessSingle(DataMessage) returns (DataMessage);
} 
```

# proto/source/source_grpc.pb.go

```go
// Code generated by protoc-gen-go-grpc. DO NOT EDIT.
// versions:
// - protoc-gen-go-grpc v1.5.1
// - protoc             v3.12.4
// source: proto/source/source.proto

package source

import (
	context "context"
	grpc "google.golang.org/grpc"
	codes "google.golang.org/grpc/codes"
	status "google.golang.org/grpc/status"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the grpc package it is being compiled against.
// Requires gRPC-Go v1.64.0 or later.
const _ = grpc.SupportPackageIsVersion9

const (
	SourceService_GetCapabilities_FullMethodName      = "/source.SourceService/GetCapabilities"
	SourceService_Configure_FullMethodName            = "/source.SourceService/Configure"
	SourceService_StartStreaming_FullMethodName       = "/source.SourceService/StartStreaming"
	SourceService_StopStreaming_FullMethodName        = "/source.SourceService/StopStreaming"
	SourceService_GetState_FullMethodName             = "/source.SourceService/GetState"
	SourceService_SetState_FullMethodName             = "/source.SourceService/SetState"
	SourceService_CheckHealth_FullMethodName          = "/source.SourceService/CheckHealth"
	SourceService_GetSnapshot_FullMethodName          = "/source.SourceService/GetSnapshot"
	SourceService_InteractiveStreaming_FullMethodName = "/source.SourceService/InteractiveStreaming"
)

// SourceServiceClient is the client API for SourceService service.
//
// For semantics around ctx use and closing/ending streaming RPCs, please refer to https://pkg.go.dev/google.golang.org/grpc/?tab=doc#ClientConn.NewStream.
//
// SourceService defines the enhanced RPC interface for a Source.
type SourceServiceClient interface {
	// Basic operations
	GetCapabilities(ctx context.Context, in *CapabilitiesRequest, opts ...grpc.CallOption) (*CapabilitiesResponse, error)
	Configure(ctx context.Context, in *ConfigureRequest, opts ...grpc.CallOption) (*ConfigureResponse, error)
	StartStreaming(ctx context.Context, in *StartRequest, opts ...grpc.CallOption) (grpc.ServerStreamingClient[DataMessage], error)
	StopStreaming(ctx context.Context, in *StopRequest, opts ...grpc.CallOption) (*StopResponse, error)
	// State management
	GetState(ctx context.Context, in *GetStateRequest, opts ...grpc.CallOption) (*GetStateResponse, error)
	SetState(ctx context.Context, in *SetStateRequest, opts ...grpc.CallOption) (*SetStateResponse, error)
	// Health and monitoring
	CheckHealth(ctx context.Context, in *HealthCheckRequest, opts ...grpc.CallOption) (*HealthCheckResponse, error)
	// Data operations
	GetSnapshot(ctx context.Context, in *SnapshotRequest, opts ...grpc.CallOption) (*SnapshotResponse, error)
	// Bidirectional streaming for interactive operations
	// Allows client to send commands during streaming
	InteractiveStreaming(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[StreamCommand, DataMessage], error)
}

type sourceServiceClient struct {
	cc grpc.ClientConnInterface
}

func NewSourceServiceClient(cc grpc.ClientConnInterface) SourceServiceClient {
	return &sourceServiceClient{cc}
}

func (c *sourceServiceClient) GetCapabilities(ctx context.Context, in *CapabilitiesRequest, opts ...grpc.CallOption) (*CapabilitiesResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(CapabilitiesResponse)
	err := c.cc.Invoke(ctx, SourceService_GetCapabilities_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) Configure(ctx context.Context, in *ConfigureRequest, opts ...grpc.CallOption) (*ConfigureResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(ConfigureResponse)
	err := c.cc.Invoke(ctx, SourceService_Configure_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) StartStreaming(ctx context.Context, in *StartRequest, opts ...grpc.CallOption) (grpc.ServerStreamingClient[DataMessage], error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	stream, err := c.cc.NewStream(ctx, &SourceService_ServiceDesc.Streams[0], SourceService_StartStreaming_FullMethodName, cOpts...)
	if err != nil {
		return nil, err
	}
	x := &grpc.GenericClientStream[StartRequest, DataMessage]{ClientStream: stream}
	if err := x.ClientStream.SendMsg(in); err != nil {
		return nil, err
	}
	if err := x.ClientStream.CloseSend(); err != nil {
		return nil, err
	}
	return x, nil
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type SourceService_StartStreamingClient = grpc.ServerStreamingClient[DataMessage]

func (c *sourceServiceClient) StopStreaming(ctx context.Context, in *StopRequest, opts ...grpc.CallOption) (*StopResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(StopResponse)
	err := c.cc.Invoke(ctx, SourceService_StopStreaming_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) GetState(ctx context.Context, in *GetStateRequest, opts ...grpc.CallOption) (*GetStateResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(GetStateResponse)
	err := c.cc.Invoke(ctx, SourceService_GetState_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) SetState(ctx context.Context, in *SetStateRequest, opts ...grpc.CallOption) (*SetStateResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(SetStateResponse)
	err := c.cc.Invoke(ctx, SourceService_SetState_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) CheckHealth(ctx context.Context, in *HealthCheckRequest, opts ...grpc.CallOption) (*HealthCheckResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(HealthCheckResponse)
	err := c.cc.Invoke(ctx, SourceService_CheckHealth_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) GetSnapshot(ctx context.Context, in *SnapshotRequest, opts ...grpc.CallOption) (*SnapshotResponse, error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	out := new(SnapshotResponse)
	err := c.cc.Invoke(ctx, SourceService_GetSnapshot_FullMethodName, in, out, cOpts...)
	if err != nil {
		return nil, err
	}
	return out, nil
}

func (c *sourceServiceClient) InteractiveStreaming(ctx context.Context, opts ...grpc.CallOption) (grpc.BidiStreamingClient[StreamCommand, DataMessage], error) {
	cOpts := append([]grpc.CallOption{grpc.StaticMethod()}, opts...)
	stream, err := c.cc.NewStream(ctx, &SourceService_ServiceDesc.Streams[1], SourceService_InteractiveStreaming_FullMethodName, cOpts...)
	if err != nil {
		return nil, err
	}
	x := &grpc.GenericClientStream[StreamCommand, DataMessage]{ClientStream: stream}
	return x, nil
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type SourceService_InteractiveStreamingClient = grpc.BidiStreamingClient[StreamCommand, DataMessage]

// SourceServiceServer is the server API for SourceService service.
// All implementations must embed UnimplementedSourceServiceServer
// for forward compatibility.
//
// SourceService defines the enhanced RPC interface for a Source.
type SourceServiceServer interface {
	// Basic operations
	GetCapabilities(context.Context, *CapabilitiesRequest) (*CapabilitiesResponse, error)
	Configure(context.Context, *ConfigureRequest) (*ConfigureResponse, error)
	StartStreaming(*StartRequest, grpc.ServerStreamingServer[DataMessage]) error
	StopStreaming(context.Context, *StopRequest) (*StopResponse, error)
	// State management
	GetState(context.Context, *GetStateRequest) (*GetStateResponse, error)
	SetState(context.Context, *SetStateRequest) (*SetStateResponse, error)
	// Health and monitoring
	CheckHealth(context.Context, *HealthCheckRequest) (*HealthCheckResponse, error)
	// Data operations
	GetSnapshot(context.Context, *SnapshotRequest) (*SnapshotResponse, error)
	// Bidirectional streaming for interactive operations
	// Allows client to send commands during streaming
	InteractiveStreaming(grpc.BidiStreamingServer[StreamCommand, DataMessage]) error
	mustEmbedUnimplementedSourceServiceServer()
}

// UnimplementedSourceServiceServer must be embedded to have
// forward compatible implementations.
//
// NOTE: this should be embedded by value instead of pointer to avoid a nil
// pointer dereference when methods are called.
type UnimplementedSourceServiceServer struct{}

func (UnimplementedSourceServiceServer) GetCapabilities(context.Context, *CapabilitiesRequest) (*CapabilitiesResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetCapabilities not implemented")
}
func (UnimplementedSourceServiceServer) Configure(context.Context, *ConfigureRequest) (*ConfigureResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method Configure not implemented")
}
func (UnimplementedSourceServiceServer) StartStreaming(*StartRequest, grpc.ServerStreamingServer[DataMessage]) error {
	return status.Errorf(codes.Unimplemented, "method StartStreaming not implemented")
}
func (UnimplementedSourceServiceServer) StopStreaming(context.Context, *StopRequest) (*StopResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method StopStreaming not implemented")
}
func (UnimplementedSourceServiceServer) GetState(context.Context, *GetStateRequest) (*GetStateResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetState not implemented")
}
func (UnimplementedSourceServiceServer) SetState(context.Context, *SetStateRequest) (*SetStateResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method SetState not implemented")
}
func (UnimplementedSourceServiceServer) CheckHealth(context.Context, *HealthCheckRequest) (*HealthCheckResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method CheckHealth not implemented")
}
func (UnimplementedSourceServiceServer) GetSnapshot(context.Context, *SnapshotRequest) (*SnapshotResponse, error) {
	return nil, status.Errorf(codes.Unimplemented, "method GetSnapshot not implemented")
}
func (UnimplementedSourceServiceServer) InteractiveStreaming(grpc.BidiStreamingServer[StreamCommand, DataMessage]) error {
	return status.Errorf(codes.Unimplemented, "method InteractiveStreaming not implemented")
}
func (UnimplementedSourceServiceServer) mustEmbedUnimplementedSourceServiceServer() {}
func (UnimplementedSourceServiceServer) testEmbeddedByValue()                       {}

// UnsafeSourceServiceServer may be embedded to opt out of forward compatibility for this service.
// Use of this interface is not recommended, as added methods to SourceServiceServer will
// result in compilation errors.
type UnsafeSourceServiceServer interface {
	mustEmbedUnimplementedSourceServiceServer()
}

func RegisterSourceServiceServer(s grpc.ServiceRegistrar, srv SourceServiceServer) {
	// If the following call pancis, it indicates UnimplementedSourceServiceServer was
	// embedded by pointer and is nil.  This will cause panics if an
	// unimplemented method is ever invoked, so we test this at initialization
	// time to prevent it from happening at runtime later due to I/O.
	if t, ok := srv.(interface{ testEmbeddedByValue() }); ok {
		t.testEmbeddedByValue()
	}
	s.RegisterService(&SourceService_ServiceDesc, srv)
}

func _SourceService_GetCapabilities_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(CapabilitiesRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).GetCapabilities(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_GetCapabilities_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).GetCapabilities(ctx, req.(*CapabilitiesRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_Configure_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(ConfigureRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).Configure(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_Configure_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).Configure(ctx, req.(*ConfigureRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_StartStreaming_Handler(srv interface{}, stream grpc.ServerStream) error {
	m := new(StartRequest)
	if err := stream.RecvMsg(m); err != nil {
		return err
	}
	return srv.(SourceServiceServer).StartStreaming(m, &grpc.GenericServerStream[StartRequest, DataMessage]{ServerStream: stream})
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type SourceService_StartStreamingServer = grpc.ServerStreamingServer[DataMessage]

func _SourceService_StopStreaming_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(StopRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).StopStreaming(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_StopStreaming_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).StopStreaming(ctx, req.(*StopRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_GetState_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(GetStateRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).GetState(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_GetState_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).GetState(ctx, req.(*GetStateRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_SetState_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(SetStateRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).SetState(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_SetState_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).SetState(ctx, req.(*SetStateRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_CheckHealth_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(HealthCheckRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).CheckHealth(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_CheckHealth_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).CheckHealth(ctx, req.(*HealthCheckRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_GetSnapshot_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
	in := new(SnapshotRequest)
	if err := dec(in); err != nil {
		return nil, err
	}
	if interceptor == nil {
		return srv.(SourceServiceServer).GetSnapshot(ctx, in)
	}
	info := &grpc.UnaryServerInfo{
		Server:     srv,
		FullMethod: SourceService_GetSnapshot_FullMethodName,
	}
	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
		return srv.(SourceServiceServer).GetSnapshot(ctx, req.(*SnapshotRequest))
	}
	return interceptor(ctx, in, info, handler)
}

func _SourceService_InteractiveStreaming_Handler(srv interface{}, stream grpc.ServerStream) error {
	return srv.(SourceServiceServer).InteractiveStreaming(&grpc.GenericServerStream[StreamCommand, DataMessage]{ServerStream: stream})
}

// This type alias is provided for backwards compatibility with existing code that references the prior non-generic stream type by name.
type SourceService_InteractiveStreamingServer = grpc.BidiStreamingServer[StreamCommand, DataMessage]

// SourceService_ServiceDesc is the grpc.ServiceDesc for SourceService service.
// It's only intended for direct use with grpc.RegisterService,
// and not to be introspected or modified (even as a copy)
var SourceService_ServiceDesc = grpc.ServiceDesc{
	ServiceName: "source.SourceService",
	HandlerType: (*SourceServiceServer)(nil),
	Methods: []grpc.MethodDesc{
		{
			MethodName: "GetCapabilities",
			Handler:    _SourceService_GetCapabilities_Handler,
		},
		{
			MethodName: "Configure",
			Handler:    _SourceService_Configure_Handler,
		},
		{
			MethodName: "StopStreaming",
			Handler:    _SourceService_StopStreaming_Handler,
		},
		{
			MethodName: "GetState",
			Handler:    _SourceService_GetState_Handler,
		},
		{
			MethodName: "SetState",
			Handler:    _SourceService_SetState_Handler,
		},
		{
			MethodName: "CheckHealth",
			Handler:    _SourceService_CheckHealth_Handler,
		},
		{
			MethodName: "GetSnapshot",
			Handler:    _SourceService_GetSnapshot_Handler,
		},
	},
	Streams: []grpc.StreamDesc{
		{
			StreamName:    "StartStreaming",
			Handler:       _SourceService_StartStreaming_Handler,
			ServerStreams: true,
		},
		{
			StreamName:    "InteractiveStreaming",
			Handler:       _SourceService_InteractiveStreaming_Handler,
			ServerStreams: true,
			ClientStreams: true,
		},
	},
	Metadata: "proto/source/source.proto",
}

```

# proto/source/source.pb.go

```go
// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.6
// 	protoc        v3.12.4
// source: proto/source/source.proto

package source

import (
	_struct "github.com/golang/protobuf/ptypes/struct"
	timestamp "github.com/golang/protobuf/ptypes/timestamp"
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// Optional configuration validation mode
type ConfigureRequest_ValidationMode int32

const (
	ConfigureRequest_VALIDATE_AND_APPLY ConfigureRequest_ValidationMode = 0 // Validate and apply if valid
	ConfigureRequest_VALIDATE_ONLY      ConfigureRequest_ValidationMode = 1 // Only validate, don't apply
)

// Enum value maps for ConfigureRequest_ValidationMode.
var (
	ConfigureRequest_ValidationMode_name = map[int32]string{
		0: "VALIDATE_AND_APPLY",
		1: "VALIDATE_ONLY",
	}
	ConfigureRequest_ValidationMode_value = map[string]int32{
		"VALIDATE_AND_APPLY": 0,
		"VALIDATE_ONLY":      1,
	}
)

func (x ConfigureRequest_ValidationMode) Enum() *ConfigureRequest_ValidationMode {
	p := new(ConfigureRequest_ValidationMode)
	*p = x
	return p
}

func (x ConfigureRequest_ValidationMode) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ConfigureRequest_ValidationMode) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_source_source_proto_enumTypes[0].Descriptor()
}

func (ConfigureRequest_ValidationMode) Type() protoreflect.EnumType {
	return &file_proto_source_source_proto_enumTypes[0]
}

func (x ConfigureRequest_ValidationMode) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ConfigureRequest_ValidationMode.Descriptor instead.
func (ConfigureRequest_ValidationMode) EnumDescriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{3, 0}
}

type ValidationIssue_Severity int32

const (
	ValidationIssue_ERROR   ValidationIssue_Severity = 0
	ValidationIssue_WARNING ValidationIssue_Severity = 1
	ValidationIssue_INFO    ValidationIssue_Severity = 2
)

// Enum value maps for ValidationIssue_Severity.
var (
	ValidationIssue_Severity_name = map[int32]string{
		0: "ERROR",
		1: "WARNING",
		2: "INFO",
	}
	ValidationIssue_Severity_value = map[string]int32{
		"ERROR":   0,
		"WARNING": 1,
		"INFO":    2,
	}
)

func (x ValidationIssue_Severity) Enum() *ValidationIssue_Severity {
	p := new(ValidationIssue_Severity)
	*p = x
	return p
}

func (x ValidationIssue_Severity) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (ValidationIssue_Severity) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_source_source_proto_enumTypes[1].Descriptor()
}

func (ValidationIssue_Severity) Type() protoreflect.EnumType {
	return &file_proto_source_source_proto_enumTypes[1]
}

func (x ValidationIssue_Severity) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use ValidationIssue_Severity.Descriptor instead.
func (ValidationIssue_Severity) EnumDescriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{5, 0}
}

type HealthCheckResponse_ServingStatus int32

const (
	HealthCheckResponse_UNKNOWN         HealthCheckResponse_ServingStatus = 0
	HealthCheckResponse_SERVING         HealthCheckResponse_ServingStatus = 1
	HealthCheckResponse_NOT_SERVING     HealthCheckResponse_ServingStatus = 2
	HealthCheckResponse_SERVICE_UNKNOWN HealthCheckResponse_ServingStatus = 3
	HealthCheckResponse_STARTING        HealthCheckResponse_ServingStatus = 4
	HealthCheckResponse_STOPPING        HealthCheckResponse_ServingStatus = 5
)

// Enum value maps for HealthCheckResponse_ServingStatus.
var (
	HealthCheckResponse_ServingStatus_name = map[int32]string{
		0: "UNKNOWN",
		1: "SERVING",
		2: "NOT_SERVING",
		3: "SERVICE_UNKNOWN",
		4: "STARTING",
		5: "STOPPING",
	}
	HealthCheckResponse_ServingStatus_value = map[string]int32{
		"UNKNOWN":         0,
		"SERVING":         1,
		"NOT_SERVING":     2,
		"SERVICE_UNKNOWN": 3,
		"STARTING":        4,
		"STOPPING":        5,
	}
)

func (x HealthCheckResponse_ServingStatus) Enum() *HealthCheckResponse_ServingStatus {
	p := new(HealthCheckResponse_ServingStatus)
	*p = x
	return p
}

func (x HealthCheckResponse_ServingStatus) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (HealthCheckResponse_ServingStatus) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_source_source_proto_enumTypes[2].Descriptor()
}

func (HealthCheckResponse_ServingStatus) Type() protoreflect.EnumType {
	return &file_proto_source_source_proto_enumTypes[2]
}

func (x HealthCheckResponse_ServingStatus) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use HealthCheckResponse_ServingStatus.Descriptor instead.
func (HealthCheckResponse_ServingStatus) EnumDescriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{16, 0}
}

type StreamCommand_CommandType int32

const (
	StreamCommand_PAUSE       StreamCommand_CommandType = 0
	StreamCommand_RESUME      StreamCommand_CommandType = 1
	StreamCommand_FILTER      StreamCommand_CommandType = 2
	StreamCommand_SEEK        StreamCommand_CommandType = 3
	StreamCommand_ACKNOWLEDGE StreamCommand_CommandType = 4
)

// Enum value maps for StreamCommand_CommandType.
var (
	StreamCommand_CommandType_name = map[int32]string{
		0: "PAUSE",
		1: "RESUME",
		2: "FILTER",
		3: "SEEK",
		4: "ACKNOWLEDGE",
	}
	StreamCommand_CommandType_value = map[string]int32{
		"PAUSE":       0,
		"RESUME":      1,
		"FILTER":      2,
		"SEEK":        3,
		"ACKNOWLEDGE": 4,
	}
)

func (x StreamCommand_CommandType) Enum() *StreamCommand_CommandType {
	p := new(StreamCommand_CommandType)
	*p = x
	return p
}

func (x StreamCommand_CommandType) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (StreamCommand_CommandType) Descriptor() protoreflect.EnumDescriptor {
	return file_proto_source_source_proto_enumTypes[3].Descriptor()
}

func (StreamCommand_CommandType) Type() protoreflect.EnumType {
	return &file_proto_source_source_proto_enumTypes[3]
}

func (x StreamCommand_CommandType) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use StreamCommand_CommandType.Descriptor instead.
func (StreamCommand_CommandType) EnumDescriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{20, 0}
}

// DataMessage is the basic message exchanged from a Source.
// Enhanced to support multiple payload types and richer metadata.
type DataMessage struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// The raw data payload.
	Payload []byte `protobuf:"bytes,1,opt,name=payload,proto3" json:"payload,omitempty"`
	// Metadata about the message, now supporting complex values.
	// Values can be strings, numbers, booleans, or nested objects.
	Metadata *_struct.Struct `protobuf:"bytes,2,opt,name=metadata,proto3" json:"metadata,omitempty"`
	// Timestamp when the message was created.
	Timestamp *timestamp.Timestamp `protobuf:"bytes,3,opt,name=timestamp,proto3" json:"timestamp,omitempty"`
	// Type of payload to help consumers interpret the data correctly.
	// Examples: "xdr", "json", "avro", "protobuf", "raw"
	ContentType string `protobuf:"bytes,4,opt,name=content_type,json=contentType,proto3" json:"content_type,omitempty"`
	// Unique identifier for the message.
	MessageId string `protobuf:"bytes,5,opt,name=message_id,json=messageId,proto3" json:"message_id,omitempty"`
	// Source information as a structured object
	SourceInfo *_struct.Struct `protobuf:"bytes,6,opt,name=source_info,json=sourceInfo,proto3" json:"source_info,omitempty"`
	// Sequence information to help with ordering and deduplication.
	SequenceNumber int64 `protobuf:"varint,7,opt,name=sequence_number,json=sequenceNumber,proto3" json:"sequence_number,omitempty"`
	unknownFields  protoimpl.UnknownFields
	sizeCache      protoimpl.SizeCache
}

func (x *DataMessage) Reset() {
	*x = DataMessage{}
	mi := &file_proto_source_source_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *DataMessage) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*DataMessage) ProtoMessage() {}

func (x *DataMessage) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use DataMessage.ProtoReflect.Descriptor instead.
func (*DataMessage) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{0}
}

func (x *DataMessage) GetPayload() []byte {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *DataMessage) GetMetadata() *_struct.Struct {
	if x != nil {
		return x.Metadata
	}
	return nil
}

func (x *DataMessage) GetTimestamp() *timestamp.Timestamp {
	if x != nil {
		return x.Timestamp
	}
	return nil
}

func (x *DataMessage) GetContentType() string {
	if x != nil {
		return x.ContentType
	}
	return ""
}

func (x *DataMessage) GetMessageId() string {
	if x != nil {
		return x.MessageId
	}
	return ""
}

func (x *DataMessage) GetSourceInfo() *_struct.Struct {
	if x != nil {
		return x.SourceInfo
	}
	return nil
}

func (x *DataMessage) GetSequenceNumber() int64 {
	if x != nil {
		return x.SequenceNumber
	}
	return 0
}

// Enhanced capabilities response with more detailed information.
type CapabilitiesRequest struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *CapabilitiesRequest) Reset() {
	*x = CapabilitiesRequest{}
	mi := &file_proto_source_source_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *CapabilitiesRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*CapabilitiesRequest) ProtoMessage() {}

func (x *CapabilitiesRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use CapabilitiesRequest.ProtoReflect.Descriptor instead.
func (*CapabilitiesRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{1}
}

type CapabilitiesResponse struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Basic service information
	ServiceName       string   `protobuf:"bytes,1,opt,name=service_name,json=serviceName,proto3" json:"service_name,omitempty"`
	ServiceVersion    string   `protobuf:"bytes,2,opt,name=service_version,json=serviceVersion,proto3" json:"service_version,omitempty"`
	SupportedFeatures []string `protobuf:"bytes,3,rep,name=supported_features,json=supportedFeatures,proto3" json:"supported_features,omitempty"`
	// Additional capabilities as structured data
	Capabilities *_struct.Struct `protobuf:"bytes,4,opt,name=capabilities,proto3" json:"capabilities,omitempty"`
	// Supported payload types this source can produce
	SupportedPayloadTypes []string `protobuf:"bytes,5,rep,name=supported_payload_types,json=supportedPayloadTypes,proto3" json:"supported_payload_types,omitempty"`
	// Configuration schema - can be used by clients to validate config
	ConfigSchema  *_struct.Struct `protobuf:"bytes,6,opt,name=config_schema,json=configSchema,proto3" json:"config_schema,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *CapabilitiesResponse) Reset() {
	*x = CapabilitiesResponse{}
	mi := &file_proto_source_source_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *CapabilitiesResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*CapabilitiesResponse) ProtoMessage() {}

func (x *CapabilitiesResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use CapabilitiesResponse.ProtoReflect.Descriptor instead.
func (*CapabilitiesResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{2}
}

func (x *CapabilitiesResponse) GetServiceName() string {
	if x != nil {
		return x.ServiceName
	}
	return ""
}

func (x *CapabilitiesResponse) GetServiceVersion() string {
	if x != nil {
		return x.ServiceVersion
	}
	return ""
}

func (x *CapabilitiesResponse) GetSupportedFeatures() []string {
	if x != nil {
		return x.SupportedFeatures
	}
	return nil
}

func (x *CapabilitiesResponse) GetCapabilities() *_struct.Struct {
	if x != nil {
		return x.Capabilities
	}
	return nil
}

func (x *CapabilitiesResponse) GetSupportedPayloadTypes() []string {
	if x != nil {
		return x.SupportedPayloadTypes
	}
	return nil
}

func (x *CapabilitiesResponse) GetConfigSchema() *_struct.Struct {
	if x != nil {
		return x.ConfigSchema
	}
	return nil
}

// Enhanced configuration with structured data.
type ConfigureRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Configuration as structured data instead of flat key-value pairs
	Config         *_struct.Struct                 `protobuf:"bytes,1,opt,name=config,proto3" json:"config,omitempty"`
	ValidationMode ConfigureRequest_ValidationMode `protobuf:"varint,2,opt,name=validation_mode,json=validationMode,proto3,enum=source.ConfigureRequest_ValidationMode" json:"validation_mode,omitempty"`
	unknownFields  protoimpl.UnknownFields
	sizeCache      protoimpl.SizeCache
}

func (x *ConfigureRequest) Reset() {
	*x = ConfigureRequest{}
	mi := &file_proto_source_source_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConfigureRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConfigureRequest) ProtoMessage() {}

func (x *ConfigureRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConfigureRequest.ProtoReflect.Descriptor instead.
func (*ConfigureRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{3}
}

func (x *ConfigureRequest) GetConfig() *_struct.Struct {
	if x != nil {
		return x.Config
	}
	return nil
}

func (x *ConfigureRequest) GetValidationMode() ConfigureRequest_ValidationMode {
	if x != nil {
		return x.ValidationMode
	}
	return ConfigureRequest_VALIDATE_AND_APPLY
}

type ConfigureResponse struct {
	state        protoimpl.MessageState `protogen:"open.v1"`
	Success      bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	// Validation results if requested
	ValidationIssues []*ValidationIssue `protobuf:"bytes,3,rep,name=validation_issues,json=validationIssues,proto3" json:"validation_issues,omitempty"`
	// Current configuration after applying changes
	CurrentConfig *_struct.Struct `protobuf:"bytes,4,opt,name=current_config,json=currentConfig,proto3" json:"current_config,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ConfigureResponse) Reset() {
	*x = ConfigureResponse{}
	mi := &file_proto_source_source_proto_msgTypes[4]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ConfigureResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ConfigureResponse) ProtoMessage() {}

func (x *ConfigureResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[4]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ConfigureResponse.ProtoReflect.Descriptor instead.
func (*ConfigureResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{4}
}

func (x *ConfigureResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *ConfigureResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *ConfigureResponse) GetValidationIssues() []*ValidationIssue {
	if x != nil {
		return x.ValidationIssues
	}
	return nil
}

func (x *ConfigureResponse) GetCurrentConfig() *_struct.Struct {
	if x != nil {
		return x.CurrentConfig
	}
	return nil
}

// Validation issue details for configuration
type ValidationIssue struct {
	state         protoimpl.MessageState   `protogen:"open.v1"`
	Severity      ValidationIssue_Severity `protobuf:"varint,1,opt,name=severity,proto3,enum=source.ValidationIssue_Severity" json:"severity,omitempty"`
	Field         string                   `protobuf:"bytes,2,opt,name=field,proto3" json:"field,omitempty"`
	Message       string                   `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ValidationIssue) Reset() {
	*x = ValidationIssue{}
	mi := &file_proto_source_source_proto_msgTypes[5]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ValidationIssue) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ValidationIssue) ProtoMessage() {}

func (x *ValidationIssue) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[5]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ValidationIssue.ProtoReflect.Descriptor instead.
func (*ValidationIssue) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{5}
}

func (x *ValidationIssue) GetSeverity() ValidationIssue_Severity {
	if x != nil {
		return x.Severity
	}
	return ValidationIssue_ERROR
}

func (x *ValidationIssue) GetField() string {
	if x != nil {
		return x.Field
	}
	return ""
}

func (x *ValidationIssue) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Enhanced start request with pagination and state options.
type StartRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional parameters as structured data
	Parameters *_struct.Struct `protobuf:"bytes,1,opt,name=parameters,proto3" json:"parameters,omitempty"`
	// Pagination and batching options
	Pagination *PaginationOptions `protobuf:"bytes,2,opt,name=pagination,proto3" json:"pagination,omitempty"`
	// Whether to resume from the last saved state
	ResumeFromLastState bool `protobuf:"varint,3,opt,name=resume_from_last_state,json=resumeFromLastState,proto3" json:"resume_from_last_state,omitempty"`
	// Filter criteria to apply when streaming data
	Filters       *_struct.Struct `protobuf:"bytes,4,opt,name=filters,proto3" json:"filters,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StartRequest) Reset() {
	*x = StartRequest{}
	mi := &file_proto_source_source_proto_msgTypes[6]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StartRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StartRequest) ProtoMessage() {}

func (x *StartRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[6]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StartRequest.ProtoReflect.Descriptor instead.
func (*StartRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{6}
}

func (x *StartRequest) GetParameters() *_struct.Struct {
	if x != nil {
		return x.Parameters
	}
	return nil
}

func (x *StartRequest) GetPagination() *PaginationOptions {
	if x != nil {
		return x.Pagination
	}
	return nil
}

func (x *StartRequest) GetResumeFromLastState() bool {
	if x != nil {
		return x.ResumeFromLastState
	}
	return false
}

func (x *StartRequest) GetFilters() *_struct.Struct {
	if x != nil {
		return x.Filters
	}
	return nil
}

type PaginationOptions struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Maximum number of items to fetch in a batch
	BatchSize int32 `protobuf:"varint,1,opt,name=batch_size,json=batchSize,proto3" json:"batch_size,omitempty"`
	// Opaque token for continuing a previous request
	ContinuationToken string `protobuf:"bytes,2,opt,name=continuation_token,json=continuationToken,proto3" json:"continuation_token,omitempty"`
	// Maximum time to wait for a full batch (in seconds)
	MaxWaitTime   float64 `protobuf:"fixed64,3,opt,name=max_wait_time,json=maxWaitTime,proto3" json:"max_wait_time,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *PaginationOptions) Reset() {
	*x = PaginationOptions{}
	mi := &file_proto_source_source_proto_msgTypes[7]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *PaginationOptions) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*PaginationOptions) ProtoMessage() {}

func (x *PaginationOptions) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[7]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use PaginationOptions.ProtoReflect.Descriptor instead.
func (*PaginationOptions) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{7}
}

func (x *PaginationOptions) GetBatchSize() int32 {
	if x != nil {
		return x.BatchSize
	}
	return 0
}

func (x *PaginationOptions) GetContinuationToken() string {
	if x != nil {
		return x.ContinuationToken
	}
	return ""
}

func (x *PaginationOptions) GetMaxWaitTime() float64 {
	if x != nil {
		return x.MaxWaitTime
	}
	return 0
}

type StartResponse struct {
	state        protoimpl.MessageState `protogen:"open.v1"`
	Success      bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	// Information about the started stream
	StreamId string `protobuf:"bytes,3,opt,name=stream_id,json=streamId,proto3" json:"stream_id,omitempty"`
	// Initial state information
	InitialState  *_struct.Struct `protobuf:"bytes,4,opt,name=initial_state,json=initialState,proto3" json:"initial_state,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StartResponse) Reset() {
	*x = StartResponse{}
	mi := &file_proto_source_source_proto_msgTypes[8]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StartResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StartResponse) ProtoMessage() {}

func (x *StartResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[8]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StartResponse.ProtoReflect.Descriptor instead.
func (*StartResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{8}
}

func (x *StartResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *StartResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *StartResponse) GetStreamId() string {
	if x != nil {
		return x.StreamId
	}
	return ""
}

func (x *StartResponse) GetInitialState() *_struct.Struct {
	if x != nil {
		return x.InitialState
	}
	return nil
}

// Stop request with options
type StopRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional: Specific stream ID to stop (if multiple streams exist)
	StreamId string `protobuf:"bytes,1,opt,name=stream_id,json=streamId,proto3" json:"stream_id,omitempty"`
	// Whether to save the current state before stopping
	SaveState     bool `protobuf:"varint,2,opt,name=save_state,json=saveState,proto3" json:"save_state,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StopRequest) Reset() {
	*x = StopRequest{}
	mi := &file_proto_source_source_proto_msgTypes[9]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StopRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StopRequest) ProtoMessage() {}

func (x *StopRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[9]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StopRequest.ProtoReflect.Descriptor instead.
func (*StopRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{9}
}

func (x *StopRequest) GetStreamId() string {
	if x != nil {
		return x.StreamId
	}
	return ""
}

func (x *StopRequest) GetSaveState() bool {
	if x != nil {
		return x.SaveState
	}
	return false
}

type StopResponse struct {
	state        protoimpl.MessageState `protogen:"open.v1"`
	Success      bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	// Final state when stopping (if requested)
	FinalState    *_struct.Struct `protobuf:"bytes,3,opt,name=final_state,json=finalState,proto3" json:"final_state,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StopResponse) Reset() {
	*x = StopResponse{}
	mi := &file_proto_source_source_proto_msgTypes[10]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StopResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StopResponse) ProtoMessage() {}

func (x *StopResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[10]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StopResponse.ProtoReflect.Descriptor instead.
func (*StopResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{10}
}

func (x *StopResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *StopResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

func (x *StopResponse) GetFinalState() *_struct.Struct {
	if x != nil {
		return x.FinalState
	}
	return nil
}

// State management for resumable operations
type GetStateRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional: State key or namespace
	StateKey      string `protobuf:"bytes,1,opt,name=state_key,json=stateKey,proto3" json:"state_key,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *GetStateRequest) Reset() {
	*x = GetStateRequest{}
	mi := &file_proto_source_source_proto_msgTypes[11]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetStateRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetStateRequest) ProtoMessage() {}

func (x *GetStateRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[11]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetStateRequest.ProtoReflect.Descriptor instead.
func (*GetStateRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{11}
}

func (x *GetStateRequest) GetStateKey() string {
	if x != nil {
		return x.StateKey
	}
	return ""
}

type GetStateResponse struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// State data as structured information
	State *_struct.Struct `protobuf:"bytes,1,opt,name=state,proto3" json:"state,omitempty"`
	// Last update timestamp
	LastUpdated   *timestamp.Timestamp `protobuf:"bytes,2,opt,name=last_updated,json=lastUpdated,proto3" json:"last_updated,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *GetStateResponse) Reset() {
	*x = GetStateResponse{}
	mi := &file_proto_source_source_proto_msgTypes[12]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *GetStateResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*GetStateResponse) ProtoMessage() {}

func (x *GetStateResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[12]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use GetStateResponse.ProtoReflect.Descriptor instead.
func (*GetStateResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{12}
}

func (x *GetStateResponse) GetState() *_struct.Struct {
	if x != nil {
		return x.State
	}
	return nil
}

func (x *GetStateResponse) GetLastUpdated() *timestamp.Timestamp {
	if x != nil {
		return x.LastUpdated
	}
	return nil
}

type SetStateRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// State data to store
	State *_struct.Struct `protobuf:"bytes,1,opt,name=state,proto3" json:"state,omitempty"`
	// Optional: State key or namespace
	StateKey      string `protobuf:"bytes,2,opt,name=state_key,json=stateKey,proto3" json:"state_key,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *SetStateRequest) Reset() {
	*x = SetStateRequest{}
	mi := &file_proto_source_source_proto_msgTypes[13]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *SetStateRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*SetStateRequest) ProtoMessage() {}

func (x *SetStateRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[13]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use SetStateRequest.ProtoReflect.Descriptor instead.
func (*SetStateRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{13}
}

func (x *SetStateRequest) GetState() *_struct.Struct {
	if x != nil {
		return x.State
	}
	return nil
}

func (x *SetStateRequest) GetStateKey() string {
	if x != nil {
		return x.StateKey
	}
	return ""
}

type SetStateResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Success       bool                   `protobuf:"varint,1,opt,name=success,proto3" json:"success,omitempty"`
	ErrorMessage  string                 `protobuf:"bytes,2,opt,name=error_message,json=errorMessage,proto3" json:"error_message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *SetStateResponse) Reset() {
	*x = SetStateResponse{}
	mi := &file_proto_source_source_proto_msgTypes[14]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *SetStateResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*SetStateResponse) ProtoMessage() {}

func (x *SetStateResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[14]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use SetStateResponse.ProtoReflect.Descriptor instead.
func (*SetStateResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{14}
}

func (x *SetStateResponse) GetSuccess() bool {
	if x != nil {
		return x.Success
	}
	return false
}

func (x *SetStateResponse) GetErrorMessage() string {
	if x != nil {
		return x.ErrorMessage
	}
	return ""
}

// Health check for monitoring
type HealthCheckRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Optional detailed check type
	Detailed      bool `protobuf:"varint,1,opt,name=detailed,proto3" json:"detailed,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthCheckRequest) Reset() {
	*x = HealthCheckRequest{}
	mi := &file_proto_source_source_proto_msgTypes[15]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthCheckRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthCheckRequest) ProtoMessage() {}

func (x *HealthCheckRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[15]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthCheckRequest.ProtoReflect.Descriptor instead.
func (*HealthCheckRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{15}
}

func (x *HealthCheckRequest) GetDetailed() bool {
	if x != nil {
		return x.Detailed
	}
	return false
}

type HealthCheckResponse struct {
	state  protoimpl.MessageState            `protogen:"open.v1"`
	Status HealthCheckResponse_ServingStatus `protobuf:"varint,1,opt,name=status,proto3,enum=source.HealthCheckResponse_ServingStatus" json:"status,omitempty"`
	// Detailed component health states
	Components []*ComponentHealth `protobuf:"bytes,2,rep,name=components,proto3" json:"components,omitempty"`
	// Current processing metrics
	Metrics       *_struct.Struct `protobuf:"bytes,3,opt,name=metrics,proto3" json:"metrics,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *HealthCheckResponse) Reset() {
	*x = HealthCheckResponse{}
	mi := &file_proto_source_source_proto_msgTypes[16]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *HealthCheckResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*HealthCheckResponse) ProtoMessage() {}

func (x *HealthCheckResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[16]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use HealthCheckResponse.ProtoReflect.Descriptor instead.
func (*HealthCheckResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{16}
}

func (x *HealthCheckResponse) GetStatus() HealthCheckResponse_ServingStatus {
	if x != nil {
		return x.Status
	}
	return HealthCheckResponse_UNKNOWN
}

func (x *HealthCheckResponse) GetComponents() []*ComponentHealth {
	if x != nil {
		return x.Components
	}
	return nil
}

func (x *HealthCheckResponse) GetMetrics() *_struct.Struct {
	if x != nil {
		return x.Metrics
	}
	return nil
}

type ComponentHealth struct {
	state         protoimpl.MessageState            `protogen:"open.v1"`
	ComponentName string                            `protobuf:"bytes,1,opt,name=component_name,json=componentName,proto3" json:"component_name,omitempty"`
	Status        HealthCheckResponse_ServingStatus `protobuf:"varint,2,opt,name=status,proto3,enum=source.HealthCheckResponse_ServingStatus" json:"status,omitempty"`
	Message       string                            `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ComponentHealth) Reset() {
	*x = ComponentHealth{}
	mi := &file_proto_source_source_proto_msgTypes[17]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ComponentHealth) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ComponentHealth) ProtoMessage() {}

func (x *ComponentHealth) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[17]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ComponentHealth.ProtoReflect.Descriptor instead.
func (*ComponentHealth) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{17}
}

func (x *ComponentHealth) GetComponentName() string {
	if x != nil {
		return x.ComponentName
	}
	return ""
}

func (x *ComponentHealth) GetStatus() HealthCheckResponse_ServingStatus {
	if x != nil {
		return x.Status
	}
	return HealthCheckResponse_UNKNOWN
}

func (x *ComponentHealth) GetMessage() string {
	if x != nil {
		return x.Message
	}
	return ""
}

// Source data snapshot - retrieve specific data points
type SnapshotRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Identifier(s) for the data to snapshot
	Identifiers []string `protobuf:"bytes,1,rep,name=identifiers,proto3" json:"identifiers,omitempty"`
	// Whether to include metadata
	IncludeMetadata bool `protobuf:"varint,2,opt,name=include_metadata,json=includeMetadata,proto3" json:"include_metadata,omitempty"`
	unknownFields   protoimpl.UnknownFields
	sizeCache       protoimpl.SizeCache
}

func (x *SnapshotRequest) Reset() {
	*x = SnapshotRequest{}
	mi := &file_proto_source_source_proto_msgTypes[18]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *SnapshotRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*SnapshotRequest) ProtoMessage() {}

func (x *SnapshotRequest) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[18]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use SnapshotRequest.ProtoReflect.Descriptor instead.
func (*SnapshotRequest) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{18}
}

func (x *SnapshotRequest) GetIdentifiers() []string {
	if x != nil {
		return x.Identifiers
	}
	return nil
}

func (x *SnapshotRequest) GetIncludeMetadata() bool {
	if x != nil {
		return x.IncludeMetadata
	}
	return false
}

type SnapshotResponse struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Snapshots     []*DataMessage         `protobuf:"bytes,1,rep,name=snapshots,proto3" json:"snapshots,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *SnapshotResponse) Reset() {
	*x = SnapshotResponse{}
	mi := &file_proto_source_source_proto_msgTypes[19]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *SnapshotResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*SnapshotResponse) ProtoMessage() {}

func (x *SnapshotResponse) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[19]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use SnapshotResponse.ProtoReflect.Descriptor instead.
func (*SnapshotResponse) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{19}
}

func (x *SnapshotResponse) GetSnapshots() []*DataMessage {
	if x != nil {
		return x.Snapshots
	}
	return nil
}

// Commands that can be sent during interactive streaming
type StreamCommand struct {
	state       protoimpl.MessageState    `protogen:"open.v1"`
	CommandType StreamCommand_CommandType `protobuf:"varint,1,opt,name=command_type,json=commandType,proto3,enum=source.StreamCommand_CommandType" json:"command_type,omitempty"`
	// Command parameters
	Parameters *_struct.Struct `protobuf:"bytes,2,opt,name=parameters,proto3" json:"parameters,omitempty"`
	// Correlation ID for matching commands with responses
	CorrelationId string `protobuf:"bytes,3,opt,name=correlation_id,json=correlationId,proto3" json:"correlation_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *StreamCommand) Reset() {
	*x = StreamCommand{}
	mi := &file_proto_source_source_proto_msgTypes[20]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *StreamCommand) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*StreamCommand) ProtoMessage() {}

func (x *StreamCommand) ProtoReflect() protoreflect.Message {
	mi := &file_proto_source_source_proto_msgTypes[20]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use StreamCommand.ProtoReflect.Descriptor instead.
func (*StreamCommand) Descriptor() ([]byte, []int) {
	return file_proto_source_source_proto_rawDescGZIP(), []int{20}
}

func (x *StreamCommand) GetCommandType() StreamCommand_CommandType {
	if x != nil {
		return x.CommandType
	}
	return StreamCommand_PAUSE
}

func (x *StreamCommand) GetParameters() *_struct.Struct {
	if x != nil {
		return x.Parameters
	}
	return nil
}

func (x *StreamCommand) GetCorrelationId() string {
	if x != nil {
		return x.CorrelationId
	}
	return ""
}

var File_proto_source_source_proto protoreflect.FileDescriptor

const file_proto_source_source_proto_rawDesc = "" +
	"\n" +
	"\x19proto/source/source.proto\x12\x06source\x1a\x1fgoogle/protobuf/timestamp.proto\x1a\x1cgoogle/protobuf/struct.proto\"\xbb\x02\n" +
	"\vDataMessage\x12\x18\n" +
	"\apayload\x18\x01 \x01(\fR\apayload\x123\n" +
	"\bmetadata\x18\x02 \x01(\v2\x17.google.protobuf.StructR\bmetadata\x128\n" +
	"\ttimestamp\x18\x03 \x01(\v2\x1a.google.protobuf.TimestampR\ttimestamp\x12!\n" +
	"\fcontent_type\x18\x04 \x01(\tR\vcontentType\x12\x1d\n" +
	"\n" +
	"message_id\x18\x05 \x01(\tR\tmessageId\x128\n" +
	"\vsource_info\x18\x06 \x01(\v2\x17.google.protobuf.StructR\n" +
	"sourceInfo\x12'\n" +
	"\x0fsequence_number\x18\a \x01(\x03R\x0esequenceNumber\"\x15\n" +
	"\x13CapabilitiesRequest\"\xc4\x02\n" +
	"\x14CapabilitiesResponse\x12!\n" +
	"\fservice_name\x18\x01 \x01(\tR\vserviceName\x12'\n" +
	"\x0fservice_version\x18\x02 \x01(\tR\x0eserviceVersion\x12-\n" +
	"\x12supported_features\x18\x03 \x03(\tR\x11supportedFeatures\x12;\n" +
	"\fcapabilities\x18\x04 \x01(\v2\x17.google.protobuf.StructR\fcapabilities\x126\n" +
	"\x17supported_payload_types\x18\x05 \x03(\tR\x15supportedPayloadTypes\x12<\n" +
	"\rconfig_schema\x18\x06 \x01(\v2\x17.google.protobuf.StructR\fconfigSchema\"\xd2\x01\n" +
	"\x10ConfigureRequest\x12/\n" +
	"\x06config\x18\x01 \x01(\v2\x17.google.protobuf.StructR\x06config\x12P\n" +
	"\x0fvalidation_mode\x18\x02 \x01(\x0e2'.source.ConfigureRequest.ValidationModeR\x0evalidationMode\";\n" +
	"\x0eValidationMode\x12\x16\n" +
	"\x12VALIDATE_AND_APPLY\x10\x00\x12\x11\n" +
	"\rVALIDATE_ONLY\x10\x01\"\xd8\x01\n" +
	"\x11ConfigureResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x12D\n" +
	"\x11validation_issues\x18\x03 \x03(\v2\x17.source.ValidationIssueR\x10validationIssues\x12>\n" +
	"\x0ecurrent_config\x18\x04 \x01(\v2\x17.google.protobuf.StructR\rcurrentConfig\"\xad\x01\n" +
	"\x0fValidationIssue\x12<\n" +
	"\bseverity\x18\x01 \x01(\x0e2 .source.ValidationIssue.SeverityR\bseverity\x12\x14\n" +
	"\x05field\x18\x02 \x01(\tR\x05field\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\",\n" +
	"\bSeverity\x12\t\n" +
	"\x05ERROR\x10\x00\x12\v\n" +
	"\aWARNING\x10\x01\x12\b\n" +
	"\x04INFO\x10\x02\"\xea\x01\n" +
	"\fStartRequest\x127\n" +
	"\n" +
	"parameters\x18\x01 \x01(\v2\x17.google.protobuf.StructR\n" +
	"parameters\x129\n" +
	"\n" +
	"pagination\x18\x02 \x01(\v2\x19.source.PaginationOptionsR\n" +
	"pagination\x123\n" +
	"\x16resume_from_last_state\x18\x03 \x01(\bR\x13resumeFromLastState\x121\n" +
	"\afilters\x18\x04 \x01(\v2\x17.google.protobuf.StructR\afilters\"\x85\x01\n" +
	"\x11PaginationOptions\x12\x1d\n" +
	"\n" +
	"batch_size\x18\x01 \x01(\x05R\tbatchSize\x12-\n" +
	"\x12continuation_token\x18\x02 \x01(\tR\x11continuationToken\x12\"\n" +
	"\rmax_wait_time\x18\x03 \x01(\x01R\vmaxWaitTime\"\xa9\x01\n" +
	"\rStartResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x12\x1b\n" +
	"\tstream_id\x18\x03 \x01(\tR\bstreamId\x12<\n" +
	"\rinitial_state\x18\x04 \x01(\v2\x17.google.protobuf.StructR\finitialState\"I\n" +
	"\vStopRequest\x12\x1b\n" +
	"\tstream_id\x18\x01 \x01(\tR\bstreamId\x12\x1d\n" +
	"\n" +
	"save_state\x18\x02 \x01(\bR\tsaveState\"\x87\x01\n" +
	"\fStopResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\x128\n" +
	"\vfinal_state\x18\x03 \x01(\v2\x17.google.protobuf.StructR\n" +
	"finalState\".\n" +
	"\x0fGetStateRequest\x12\x1b\n" +
	"\tstate_key\x18\x01 \x01(\tR\bstateKey\"\x80\x01\n" +
	"\x10GetStateResponse\x12-\n" +
	"\x05state\x18\x01 \x01(\v2\x17.google.protobuf.StructR\x05state\x12=\n" +
	"\flast_updated\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\vlastUpdated\"]\n" +
	"\x0fSetStateRequest\x12-\n" +
	"\x05state\x18\x01 \x01(\v2\x17.google.protobuf.StructR\x05state\x12\x1b\n" +
	"\tstate_key\x18\x02 \x01(\tR\bstateKey\"Q\n" +
	"\x10SetStateResponse\x12\x18\n" +
	"\asuccess\x18\x01 \x01(\bR\asuccess\x12#\n" +
	"\rerror_message\x18\x02 \x01(\tR\ferrorMessage\"0\n" +
	"\x12HealthCheckRequest\x12\x1a\n" +
	"\bdetailed\x18\x01 \x01(\bR\bdetailed\"\xb1\x02\n" +
	"\x13HealthCheckResponse\x12A\n" +
	"\x06status\x18\x01 \x01(\x0e2).source.HealthCheckResponse.ServingStatusR\x06status\x127\n" +
	"\n" +
	"components\x18\x02 \x03(\v2\x17.source.ComponentHealthR\n" +
	"components\x121\n" +
	"\ametrics\x18\x03 \x01(\v2\x17.google.protobuf.StructR\ametrics\"k\n" +
	"\rServingStatus\x12\v\n" +
	"\aUNKNOWN\x10\x00\x12\v\n" +
	"\aSERVING\x10\x01\x12\x0f\n" +
	"\vNOT_SERVING\x10\x02\x12\x13\n" +
	"\x0fSERVICE_UNKNOWN\x10\x03\x12\f\n" +
	"\bSTARTING\x10\x04\x12\f\n" +
	"\bSTOPPING\x10\x05\"\x95\x01\n" +
	"\x0fComponentHealth\x12%\n" +
	"\x0ecomponent_name\x18\x01 \x01(\tR\rcomponentName\x12A\n" +
	"\x06status\x18\x02 \x01(\x0e2).source.HealthCheckResponse.ServingStatusR\x06status\x12\x18\n" +
	"\amessage\x18\x03 \x01(\tR\amessage\"^\n" +
	"\x0fSnapshotRequest\x12 \n" +
	"\videntifiers\x18\x01 \x03(\tR\videntifiers\x12)\n" +
	"\x10include_metadata\x18\x02 \x01(\bR\x0fincludeMetadata\"E\n" +
	"\x10SnapshotResponse\x121\n" +
	"\tsnapshots\x18\x01 \x03(\v2\x13.source.DataMessageR\tsnapshots\"\x82\x02\n" +
	"\rStreamCommand\x12D\n" +
	"\fcommand_type\x18\x01 \x01(\x0e2!.source.StreamCommand.CommandTypeR\vcommandType\x127\n" +
	"\n" +
	"parameters\x18\x02 \x01(\v2\x17.google.protobuf.StructR\n" +
	"parameters\x12%\n" +
	"\x0ecorrelation_id\x18\x03 \x01(\tR\rcorrelationId\"K\n" +
	"\vCommandType\x12\t\n" +
	"\x05PAUSE\x10\x00\x12\n" +
	"\n" +
	"\x06RESUME\x10\x01\x12\n" +
	"\n" +
	"\x06FILTER\x10\x02\x12\b\n" +
	"\x04SEEK\x10\x03\x12\x0f\n" +
	"\vACKNOWLEDGE\x10\x042\xea\x04\n" +
	"\rSourceService\x12L\n" +
	"\x0fGetCapabilities\x12\x1b.source.CapabilitiesRequest\x1a\x1c.source.CapabilitiesResponse\x12@\n" +
	"\tConfigure\x12\x18.source.ConfigureRequest\x1a\x19.source.ConfigureResponse\x12=\n" +
	"\x0eStartStreaming\x12\x14.source.StartRequest\x1a\x13.source.DataMessage0\x01\x12:\n" +
	"\rStopStreaming\x12\x13.source.StopRequest\x1a\x14.source.StopResponse\x12=\n" +
	"\bGetState\x12\x17.source.GetStateRequest\x1a\x18.source.GetStateResponse\x12=\n" +
	"\bSetState\x12\x17.source.SetStateRequest\x1a\x18.source.SetStateResponse\x12F\n" +
	"\vCheckHealth\x12\x1a.source.HealthCheckRequest\x1a\x1b.source.HealthCheckResponse\x12@\n" +
	"\vGetSnapshot\x12\x17.source.SnapshotRequest\x1a\x18.source.SnapshotResponse\x12F\n" +
	"\x14InteractiveStreaming\x12\x15.source.StreamCommand\x1a\x13.source.DataMessage(\x010\x01B/Z-github.com/withObsrvr/flow-proto/proto/sourceb\x06proto3"

var (
	file_proto_source_source_proto_rawDescOnce sync.Once
	file_proto_source_source_proto_rawDescData []byte
)

func file_proto_source_source_proto_rawDescGZIP() []byte {
	file_proto_source_source_proto_rawDescOnce.Do(func() {
		file_proto_source_source_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_proto_source_source_proto_rawDesc), len(file_proto_source_source_proto_rawDesc)))
	})
	return file_proto_source_source_proto_rawDescData
}

var file_proto_source_source_proto_enumTypes = make([]protoimpl.EnumInfo, 4)
var file_proto_source_source_proto_msgTypes = make([]protoimpl.MessageInfo, 21)
var file_proto_source_source_proto_goTypes = []any{
	(ConfigureRequest_ValidationMode)(0),   // 0: source.ConfigureRequest.ValidationMode
	(ValidationIssue_Severity)(0),          // 1: source.ValidationIssue.Severity
	(HealthCheckResponse_ServingStatus)(0), // 2: source.HealthCheckResponse.ServingStatus
	(StreamCommand_CommandType)(0),         // 3: source.StreamCommand.CommandType
	(*DataMessage)(nil),                    // 4: source.DataMessage
	(*CapabilitiesRequest)(nil),            // 5: source.CapabilitiesRequest
	(*CapabilitiesResponse)(nil),           // 6: source.CapabilitiesResponse
	(*ConfigureRequest)(nil),               // 7: source.ConfigureRequest
	(*ConfigureResponse)(nil),              // 8: source.ConfigureResponse
	(*ValidationIssue)(nil),                // 9: source.ValidationIssue
	(*StartRequest)(nil),                   // 10: source.StartRequest
	(*PaginationOptions)(nil),              // 11: source.PaginationOptions
	(*StartResponse)(nil),                  // 12: source.StartResponse
	(*StopRequest)(nil),                    // 13: source.StopRequest
	(*StopResponse)(nil),                   // 14: source.StopResponse
	(*GetStateRequest)(nil),                // 15: source.GetStateRequest
	(*GetStateResponse)(nil),               // 16: source.GetStateResponse
	(*SetStateRequest)(nil),                // 17: source.SetStateRequest
	(*SetStateResponse)(nil),               // 18: source.SetStateResponse
	(*HealthCheckRequest)(nil),             // 19: source.HealthCheckRequest
	(*HealthCheckResponse)(nil),            // 20: source.HealthCheckResponse
	(*ComponentHealth)(nil),                // 21: source.ComponentHealth
	(*SnapshotRequest)(nil),                // 22: source.SnapshotRequest
	(*SnapshotResponse)(nil),               // 23: source.SnapshotResponse
	(*StreamCommand)(nil),                  // 24: source.StreamCommand
	(*_struct.Struct)(nil),                 // 25: google.protobuf.Struct
	(*timestamp.Timestamp)(nil),            // 26: google.protobuf.Timestamp
}
var file_proto_source_source_proto_depIdxs = []int32{
	25, // 0: source.DataMessage.metadata:type_name -> google.protobuf.Struct
	26, // 1: source.DataMessage.timestamp:type_name -> google.protobuf.Timestamp
	25, // 2: source.DataMessage.source_info:type_name -> google.protobuf.Struct
	25, // 3: source.CapabilitiesResponse.capabilities:type_name -> google.protobuf.Struct
	25, // 4: source.CapabilitiesResponse.config_schema:type_name -> google.protobuf.Struct
	25, // 5: source.ConfigureRequest.config:type_name -> google.protobuf.Struct
	0,  // 6: source.ConfigureRequest.validation_mode:type_name -> source.ConfigureRequest.ValidationMode
	9,  // 7: source.ConfigureResponse.validation_issues:type_name -> source.ValidationIssue
	25, // 8: source.ConfigureResponse.current_config:type_name -> google.protobuf.Struct
	1,  // 9: source.ValidationIssue.severity:type_name -> source.ValidationIssue.Severity
	25, // 10: source.StartRequest.parameters:type_name -> google.protobuf.Struct
	11, // 11: source.StartRequest.pagination:type_name -> source.PaginationOptions
	25, // 12: source.StartRequest.filters:type_name -> google.protobuf.Struct
	25, // 13: source.StartResponse.initial_state:type_name -> google.protobuf.Struct
	25, // 14: source.StopResponse.final_state:type_name -> google.protobuf.Struct
	25, // 15: source.GetStateResponse.state:type_name -> google.protobuf.Struct
	26, // 16: source.GetStateResponse.last_updated:type_name -> google.protobuf.Timestamp
	25, // 17: source.SetStateRequest.state:type_name -> google.protobuf.Struct
	2,  // 18: source.HealthCheckResponse.status:type_name -> source.HealthCheckResponse.ServingStatus
	21, // 19: source.HealthCheckResponse.components:type_name -> source.ComponentHealth
	25, // 20: source.HealthCheckResponse.metrics:type_name -> google.protobuf.Struct
	2,  // 21: source.ComponentHealth.status:type_name -> source.HealthCheckResponse.ServingStatus
	4,  // 22: source.SnapshotResponse.snapshots:type_name -> source.DataMessage
	3,  // 23: source.StreamCommand.command_type:type_name -> source.StreamCommand.CommandType
	25, // 24: source.StreamCommand.parameters:type_name -> google.protobuf.Struct
	5,  // 25: source.SourceService.GetCapabilities:input_type -> source.CapabilitiesRequest
	7,  // 26: source.SourceService.Configure:input_type -> source.ConfigureRequest
	10, // 27: source.SourceService.StartStreaming:input_type -> source.StartRequest
	13, // 28: source.SourceService.StopStreaming:input_type -> source.StopRequest
	15, // 29: source.SourceService.GetState:input_type -> source.GetStateRequest
	17, // 30: source.SourceService.SetState:input_type -> source.SetStateRequest
	19, // 31: source.SourceService.CheckHealth:input_type -> source.HealthCheckRequest
	22, // 32: source.SourceService.GetSnapshot:input_type -> source.SnapshotRequest
	24, // 33: source.SourceService.InteractiveStreaming:input_type -> source.StreamCommand
	6,  // 34: source.SourceService.GetCapabilities:output_type -> source.CapabilitiesResponse
	8,  // 35: source.SourceService.Configure:output_type -> source.ConfigureResponse
	4,  // 36: source.SourceService.StartStreaming:output_type -> source.DataMessage
	14, // 37: source.SourceService.StopStreaming:output_type -> source.StopResponse
	16, // 38: source.SourceService.GetState:output_type -> source.GetStateResponse
	18, // 39: source.SourceService.SetState:output_type -> source.SetStateResponse
	20, // 40: source.SourceService.CheckHealth:output_type -> source.HealthCheckResponse
	23, // 41: source.SourceService.GetSnapshot:output_type -> source.SnapshotResponse
	4,  // 42: source.SourceService.InteractiveStreaming:output_type -> source.DataMessage
	34, // [34:43] is the sub-list for method output_type
	25, // [25:34] is the sub-list for method input_type
	25, // [25:25] is the sub-list for extension type_name
	25, // [25:25] is the sub-list for extension extendee
	0,  // [0:25] is the sub-list for field type_name
}

func init() { file_proto_source_source_proto_init() }
func file_proto_source_source_proto_init() {
	if File_proto_source_source_proto != nil {
		return
	}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_proto_source_source_proto_rawDesc), len(file_proto_source_source_proto_rawDesc)),
			NumEnums:      4,
			NumMessages:   21,
			NumExtensions: 0,
			NumServices:   1,
		},
		GoTypes:           file_proto_source_source_proto_goTypes,
		DependencyIndexes: file_proto_source_source_proto_depIdxs,
		EnumInfos:         file_proto_source_source_proto_enumTypes,
		MessageInfos:      file_proto_source_source_proto_msgTypes,
	}.Build()
	File_proto_source_source_proto = out.File
	file_proto_source_source_proto_goTypes = nil
	file_proto_source_source_proto_depIdxs = nil
}

```

# proto/source/source.proto

```proto
syntax = "proto3";

package source;

import "google/protobuf/timestamp.proto";
import "google/protobuf/struct.proto";

option go_package = "github.com/withObsrvr/flow-proto/proto/source";

// DataMessage is the basic message exchanged from a Source.
// Enhanced to support multiple payload types and richer metadata.
message DataMessage {
  // The raw data payload.
  bytes payload = 1;
  
  // Metadata about the message, now supporting complex values.
  // Values can be strings, numbers, booleans, or nested objects.
  google.protobuf.Struct metadata = 2;
  
  // Timestamp when the message was created.
  google.protobuf.Timestamp timestamp = 3;
  
  // Type of payload to help consumers interpret the data correctly.
  // Examples: "xdr", "json", "avro", "protobuf", "raw"
  string content_type = 4;
  
  // Unique identifier for the message.
  string message_id = 5;
  
  // Source information as a structured object
  google.protobuf.Struct source_info = 6;
  
  // Sequence information to help with ordering and deduplication.
  int64 sequence_number = 7;
}

// Enhanced capabilities response with more detailed information.
message CapabilitiesRequest {}

message CapabilitiesResponse {
  // Basic service information
  string service_name = 1;
  string service_version = 2;
  repeated string supported_features = 3;
  
  // Additional capabilities as structured data
  google.protobuf.Struct capabilities = 4;
  
  // Supported payload types this source can produce
  repeated string supported_payload_types = 5;
  
  // Configuration schema - can be used by clients to validate config
  google.protobuf.Struct config_schema = 6;
}

// Enhanced configuration with structured data.
message ConfigureRequest {
  // Configuration as structured data instead of flat key-value pairs
  google.protobuf.Struct config = 1;
  
  // Optional configuration validation mode
  enum ValidationMode {
    VALIDATE_AND_APPLY = 0;  // Validate and apply if valid
    VALIDATE_ONLY = 1;       // Only validate, don't apply
  }
  ValidationMode validation_mode = 2;
}

message ConfigureResponse {
  bool success = 1;
  string error_message = 2;
  
  // Validation results if requested
  repeated ValidationIssue validation_issues = 3;
  
  // Current configuration after applying changes
  google.protobuf.Struct current_config = 4;
}

// Validation issue details for configuration
message ValidationIssue {
  enum Severity {
    ERROR = 0;
    WARNING = 1;
    INFO = 2;
  }
  Severity severity = 1;
  string field = 2;
  string message = 3;
}

// Enhanced start request with pagination and state options.
message StartRequest {
  // Optional parameters as structured data
  google.protobuf.Struct parameters = 1;
  
  // Pagination and batching options
  PaginationOptions pagination = 2;
  
  // Whether to resume from the last saved state
  bool resume_from_last_state = 3;
  
  // Filter criteria to apply when streaming data
  google.protobuf.Struct filters = 4;
}

message PaginationOptions {
  // Maximum number of items to fetch in a batch
  int32 batch_size = 1;
  
  // Opaque token for continuing a previous request
  string continuation_token = 2;
  
  // Maximum time to wait for a full batch (in seconds)
  double max_wait_time = 3;
}

message StartResponse {
  bool success = 1;
  string error_message = 2;
  
  // Information about the started stream
  string stream_id = 3;
  
  // Initial state information
  google.protobuf.Struct initial_state = 4;
}

// Stop request with options
message StopRequest {
  // Optional: Specific stream ID to stop (if multiple streams exist)
  string stream_id = 1;
  
  // Whether to save the current state before stopping
  bool save_state = 2;
}

message StopResponse {
  bool success = 1;
  string error_message = 2;
  
  // Final state when stopping (if requested)
  google.protobuf.Struct final_state = 3;
}

// State management for resumable operations
message GetStateRequest {
  // Optional: State key or namespace
  string state_key = 1;
}

message GetStateResponse {
  // State data as structured information
  google.protobuf.Struct state = 1;
  
  // Last update timestamp
  google.protobuf.Timestamp last_updated = 2;
}

message SetStateRequest {
  // State data to store
  google.protobuf.Struct state = 1;
  
  // Optional: State key or namespace
  string state_key = 2;
}

message SetStateResponse {
  bool success = 1;
  string error_message = 2;
}

// Health check for monitoring
message HealthCheckRequest {
  // Optional detailed check type
  bool detailed = 1;
}

message HealthCheckResponse {
  enum ServingStatus {
    UNKNOWN = 0;
    SERVING = 1;
    NOT_SERVING = 2;
    SERVICE_UNKNOWN = 3;
    STARTING = 4;
    STOPPING = 5;
  }
  ServingStatus status = 1;
  
  // Detailed component health states
  repeated ComponentHealth components = 2;
  
  // Current processing metrics
  google.protobuf.Struct metrics = 3;
}

message ComponentHealth {
  string component_name = 1;
  HealthCheckResponse.ServingStatus status = 2;
  string message = 3;
}

// Source data snapshot - retrieve specific data points
message SnapshotRequest {
  // Identifier(s) for the data to snapshot
  repeated string identifiers = 1;
  
  // Whether to include metadata
  bool include_metadata = 2;
}

message SnapshotResponse {
  repeated DataMessage snapshots = 1;
}

// SourceService defines the enhanced RPC interface for a Source.
service SourceService {
  // Basic operations
  rpc GetCapabilities(CapabilitiesRequest) returns (CapabilitiesResponse);
  rpc Configure(ConfigureRequest) returns (ConfigureResponse);
  rpc StartStreaming(StartRequest) returns (stream DataMessage);
  rpc StopStreaming(StopRequest) returns (StopResponse);
  
  // State management
  rpc GetState(GetStateRequest) returns (GetStateResponse);
  rpc SetState(SetStateRequest) returns (SetStateResponse);
  
  // Health and monitoring
  rpc CheckHealth(HealthCheckRequest) returns (HealthCheckResponse);
  
  // Data operations
  rpc GetSnapshot(SnapshotRequest) returns (SnapshotResponse);
  
  // Bidirectional streaming for interactive operations
  // Allows client to send commands during streaming
  rpc InteractiveStreaming(stream StreamCommand) returns (stream DataMessage);
}

// Commands that can be sent during interactive streaming
message StreamCommand {
  enum CommandType {
    PAUSE = 0;
    RESUME = 1;
    FILTER = 2;
    SEEK = 3;
    ACKNOWLEDGE = 4;
  }
  CommandType command_type = 1;
  
  // Command parameters
  google.protobuf.Struct parameters = 2;
  
  // Correlation ID for matching commands with responses
  string correlation_id = 3;
} 
```

# README.md

```md
# Flow Proto Repository

This repository contains the protobuf definitions for the Flow microservices architecture. These definitions serve as the contract between Flow Core and its distributed components (Sources, Processors, and Consumers).

## Contents

- `proto/processor`: Protocol definitions for processor services
- `proto/source`: Protocol definitions for source services
- `proto/consumer`: Protocol definitions for consumer services

## Usage

### Adding to a Go Project

\`\`\`bash
# Add the dependency to your project
go get github.com/withObsrvr/flow-proto@latest

# Update your go.mod file
go mod tidy
\`\`\`

### Importing in Go Code

Import the specific proto package you need:

\`\`\`go
import (
    // Import processor definitions
    processorpb "github.com/withObsrvr/flow-proto/proto/processor"
    
    // Import source definitions
    sourcepb "github.com/withObsrvr/flow-proto/proto/source"
    
    // Import consumer definitions
    consumerpb "github.com/withObsrvr/flow-proto/proto/consumer"
)
\`\`\`

### Example Usage

\`\`\`go
// Create a processor client
client := processorpb.NewProcessorServiceClient(conn)

// Call GetCapabilities
capabilities, err := client.GetCapabilities(ctx, &processorpb.CapabilitiesRequest{})
if err != nil {
    log.Fatalf("Failed to get capabilities: %v", err)
}

// Process data with bidirectional streaming
stream, err := client.Process(ctx)
if err != nil {
    log.Fatalf("Error opening stream: %v", err)
}

// Send data messages
msg := &processorpb.DataMessage{
    Payload:  []byte("hello"),
    Metadata: map[string]string{"key": "value"},
}
if err := stream.Send(msg); err != nil {
    log.Fatalf("Failed to send message: %v", err)
}

// Receive processed messages
resp, err := stream.Recv()
if err != nil {
    log.Fatalf("Error receiving message: %v", err)
}
\`\`\`

## Regenerating Proto Code

\`\`\`bash
# Install protoc compiler and Go plugins
go install google.golang.org/protobuf/cmd/protoc-gen-go@latest
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest

# Generate Go code from proto definitions
protoc --go_out=. --go-grpc_out=. proto/processor/processor.proto proto/source/source.proto proto/consumer/consumer.proto
\`\`\`

## Development

When making changes to proto definitions:

1. Update the proto files
2. Regenerate code
3. Increment version following semver
4. Push changes to the repository

## Integration with Flow Core

For local development of Flow Core, you can use a replace directive in go.mod:

\`\`\`
replace github.com/withObsrvr/flow-proto => ../flow-proto
\`\`\`

```

